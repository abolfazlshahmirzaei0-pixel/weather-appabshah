<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="google-site-verification" content="OUObRvSkSIUhaQTLvJQbQwepm5u-eRmTWSzC5QiVcl4" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ุณุงูุงูู ููุงุดูุงุณ | ุงุจูุงููุถู ุดุงููุฑุฒุง</title>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://cdn.jsdelivr.net/gh/rastikerdar/vazirmatn@v33.003/Vazirmatn-font-face.css" rel="stylesheet">

    <style>
        :root { --p: #0ea5e9; --s: #8b5cf6; --bg-d: #f1f5f9; --bg-n: #0f172a; --g-d: rgba(255,255,255,0.9); --g-n: rgba(30,41,59,0.85); }
        * { box-sizing: border-box; transition: 0.3s; font-family: 'Vazirmatn', sans-serif; }
        body { margin: 0; min-height: 100vh; background: var(--bg-d); color: #1e293b; overflow-x: hidden; }
        body.night-mode { background: var(--bg-n); color: #f8fafc; }
        
        header { padding: 10px 5%; display: flex; justify-content: space-between; align-items: center; backdrop-filter: blur(10px); border-bottom: 1px solid rgba(128,128,128,0.2); position: sticky; top: 0; z-index: 1000; background: rgba(255,255,255,0.1); }
        
        .container { max-width: 800px; margin: 20px auto; padding: 0 15px; }
        .glass { background: var(--g-d); border-radius: 20px; padding: 20px; margin-bottom: 20px; border: 1px solid rgba(255,255,255,0.3); box-shadow: 0 8px 32px rgba(0,0,0,0.1); }
        .night-mode .glass { background: var(--g-n); border-color: rgba(255,255,255,0.05); }
        
        .weather-card { background: linear-gradient(135deg, #0ea5e9, #8b5cf6); color: #fff; text-align: center; }
        .btn { background: var(--p); color: #fff; border: none; padding: 12px 20px; border-radius: 12px; cursor: pointer; font-weight: bold; display: inline-flex; align-items: center; gap: 5px; }
        
        input, select { width: 100%; padding: 12px; border-radius: 12px; border: 1px solid #cbd5e1; margin-bottom: 10px; outline: none; background: white; font-size: 0.9rem; }
        .night-mode input, .night-mode select { background: #1e293b; color: white; border-color: #334155; }
        
        .info-grid { display: grid; grid-template-columns: repeat(2,1fr); gap: 10px; margin-top: 15px; }
        .info-item { background: rgba(255,255,255,0.2); padding: 10px; border-radius: 12px; font-size: 0.85rem; }
        
        #forecast { display: flex; gap: 10px; overflow-x: auto; padding-bottom: 10px; }
        .f-item { min-width: 90px; background: rgba(139,92,246,0.1); padding: 10px; border-radius: 15px; text-align: center; flex-shrink: 0; }
        
        .comment-item { background: rgba(0,0,0,0.03); padding: 12px; border-radius: 12px; margin-bottom: 10px; border-right: 4px solid var(--s); position: relative; }
        .night-mode .comment-item { background: rgba(255,255,255,0.05); }
        .del-icon { color: #ef4444; cursor: pointer; float: left; font-size: 0.9rem; padding: 5px; }
    </style>
</head>
<body>

<div id="login-screen" style="position:fixed; inset:0; background:#0f172a; display:flex; align-items:center; justify-content:center; z-index:9999">
    <div class="glass" style="width:340px; text-align:center;">
        <i class="fa-solid fa-cloud-bolt" style="font-size:4rem; color:#0ea5e9; margin-bottom:15px"></i>
        <h2 style="color:#0ea5e9; margin:0">ููุงุดูุงุณ ููุดููุฏ</h2>
        <p style="font-size:0.9rem; color:#fff; background: var(--s); display: inline-block; padding: 2px 10px; border-radius: 5px;">ุณุงุฒูุฏู: ุงุจูุงููุถู ุดุงููุฑุฒุง</p>
        <div style="margin-top: 20px;">
            <input id="fname" placeholder="ูุงู ุดูุง...">
            <button class="btn" style="width:100%" onclick="init()">ูุฑูุฏ ุจู ุณุงูุงูู</button>
        </div>
    </div>
</div>

<header id="h-ui" style="display:none">
    <button class="btn" style="background:#ef4444; padding: 8px 15px;" onclick="exit()">ุฎุฑูุฌ</button>
    <div style="text-align:center">
        <div id="clock" style="font-size:1.2rem; font-weight:900; color:var(--p)"></div>
        <div style="font-size:0.7rem; color:var(--s); font-weight: bold;">ุจุฑูุงูู ููุณ: ุงุจูุงููุถู ุดุงููุฑุฒุง</div>
    </div>
    <div id="user-display" style="font-weight:bold;"></div>
</header>

<div class="container" id="app" style="display:none">
    <div class="glass">
        <input id="search-box" placeholder="๐ ุฌุณุชุฌู ุณุฑุน ุดูุฑ..." oninput="quickSearch()">
        <div style="display:grid; grid-template-columns:1fr 1fr; gap:10px">
            <select id="prov-select" onchange="loadCities()"></select>
            <select id="city-select" onchange="getWeather()"><option>ุงูุชุฎุงุจ ุดูุฑ...</option></select>
        </div>
    </div>

    <div id="result" style="display:none">
        <div class="glass weather-card">
            <h2 id="res-city" style="margin:0"></h2>
            <div id="res-icon" style="font-size:3rem"></div>
            <div id="res-temp" style="font-size:4rem; font-weight:900"></div>
            <p id="res-desc" style="font-size:1.1rem"></p>
            <div class="info-grid">
                <div class="info-item">๐จ ุจุงุฏ: <span id="wind"></span></div>
                <div class="info-item">๐ง ุฑุทูุจุช: <span id="hum"></span></div>
            </div>
        </div>
        <div class="glass">
            <h4>ูพุดโุจู ต ุฑูุฒู</h4>
            <div id="forecast"></div>
        </div>
    </div>

    <div class="glass">
        <h4>๐จ๏ธ ฺฏุฒุงุฑุดุงุช ูุญู ฺฉุงุฑุจุฑุงู</h4>
        <div style="display:flex; gap:5px">
            <input id="c-input" style="margin:0" placeholder="ูุถุนุช ููุง ููุทูู ุดูุงุ">
            <button class="btn" onclick="addComment()">ุซุจุช</button>
        </div>
        <div id="c-list" style="margin-top:15px"></div>
    </div>

    <footer style="text-align:center; padding:20px; opacity:0.8; font-size: 0.8rem; border-top: 1px dashed #ccc;">
        ุทุฑุงุญ ู ุชูุณุนู ุชูุณุท <b>ุงุจูุงููุถู ุดุงููุฑุฒุง</b> | ฑดฐด &copy;
    </footer>
</div>

<script>
// ุฏุชุงุจุณ ุฌุงูุน ณฑ ุงุณุชุงู (ูุฑ ุงุณุชุงู ุญุฏูุฏ ณต ุดูุฑ)
const DB = {
    "ุขุฐุฑุจุงุฌุงู ุดุฑู": ["ุชุจุฑุฒ", "ูุฑุงุบู", "ูุฑูุฏ", "ูุงูู", "ุงูุฑ", "ุจูุงุจ", "ุณุฑุงุจ", "ุขุฐุฑุดูุฑ", "ูุฑุณ", "ุนุฌุจโุดุฑ", "ูุดุชุฑูุฏ", "ููฺฉุงู", "ุฌููุง", "ุจุณุชุงูโุขุจุงุฏ", "ุดุจุณุชุฑ", "ุงุณฺฉู", "ูุฑุฒูุงู", "ฺฉูุจุฑ", "ุฎูุงุฑูู", "ุตููุงู", "ุงูุฎฺ", "ุจุงุณููุฌ", "ุณููุฏ", "ูููุงู", "ฺฏูฺฏุงู", "ุชุณูุฌ", "ฺฉุดฺฉุณุฑุง", "ุชฺฉููโุฏุงุด", "ูุฑูโุขุบุงุฌ", "ููุฑุจุงู", "ูุงุฏุดูุฑ", "ุดุฑูุฎุงูู", "ุฎุงููู", "ุฏูุฒุฏูุฒุงู", "ุจุฎุดุงุด", "ููุงู", "ุขูโฺฉูุฏ"],
    "ุชูุฑุงู": ["ุชูุฑุงู", "ุดูุฑุงุฑ", "ุงุณูุงูุดูุฑ", "ุจูุงุฑุณุชุงู", "ููุงุฑุฏ", "ูพุงฺฉุฏุดุช", "ุฑ", "ูุฏุณ", "ูุฑุงูู", "ุฏูุงููุฏ", "ูุฑูุฒฺฉูู", "ุจูููู", "ุฑูุฏูู", "ูพุฑุฏุณ", "ููุงุณุงู", "ูุดู", "ุดูุดฺฉ", "ุขุจุณุฑุฏ", "ฺฉูุงู", "ุงุฑุฌููุฏ", "ุดุฑูโุขุจุงุฏ", "ูุฑฺฺฉ", "ูพุดูุง", "ุฌูุงุฏุขุจุงุฏ", "ุจุงูุฑุดูุฑ", "ฺฉูุฑุฒฺฉ", "ุญุณูโุขุจุงุฏ", "ูุตุฑุดูุฑ", "ุฑุจุท ฺฉุฑู", "ูพุฑูุฏ", "ุตุจุงุดูุฑ", "ูุญุฏู", "ูุฑุฏูุณู", "ุจุงุบุณุชุงู", "ุงูุฏุดู"],
    "ุงุตููุงู": ["ุงุตููุงู", "ฺฉุงุดุงู", "ุฎููโุดูุฑ", "ูุฌูโุขุจุงุฏ", "ููุฌุงู", "ููุงูุฑุฌุงู", "ุดุงููโุดูุฑ", "ฺฏููพุงฺฏุงู", "ุฎูุงูุณุงุฑ", "ูุงุฆู", "ุงุฑุฏุณุชุงู", "ูุทูุฒ", "ูุฑุฏู", "ูุฑุฏููโุดูุฑ", "ุชุฑุงู", "ูุจุงุฑฺฉู", "ุขุฑุงู ู ุจุฏฺฏู", "ฺุงุฏฺฏุงู", "ุณูุฑู", "ุฏูุงูุงู", "ุดูุฑุถุง", "ุฎูุฑ", "ุจูู ูุงูุฏุดุช", "ูุฑูุฏ", "ูุฑุฒูู", "ฺฉูููพุงู", "ูพุฑุจฺฉุฑุงู", "ูููุงุฏุดูุฑ", "ุฒุฑูโุดูุฑ", "ุณูพุงูุงูโุดูุฑ", "ุจูุงุฑุณุชุงู", "ุฎูุฑุงุณฺฏุงู", "ุงุจุฑุดู", "ฺฉูุดฺฉ"],
    "ุงูุจุฑุฒ": ["ฺฉุฑุฌ", "ูุฑุฏุณ", "ูุธุฑุขุจุงุฏ", "ุณุงูุฌุจูุงุบ", "ุงุดุชูุงุฑุฏ", "ุทุงููุงู", "ฺฉูุงูโุดูุฑ", "ูุดุชฺฏุฑุฏ", "ฺูุงุฑุจุงุบ", "ูุญูุฏุดูุฑ", "ูุงูุฏุดุช", "ูุดฺฉูโุฏุดุช", "ฺฏุฑูุฏุฑู", "ฺฏูุณุงุฑ", "ฺฉููุณุงุฑ", "ุชูฺฉูุงู", "ุขุณุงุฑุง", "ูพู ุฎูุงุจ", "ุขุฏุฑุงู", "ฺฉูุฏูุงู", "ุฏุฒู", "ุณููู", "ุฒุนูุฑุงูู", "ฺฉุฑุฏุงู", "ุจุฑุบุงู", "ุงุบุดุช", "ฺูุงุฑุจุงุบ", "ุณููุฑุขุจุงุฏ", "ูุดฺฉุฑุขุจุงุฏ", "ูู", "ุฎูุฑ", "ูุดูุฏ", "ุดููุฒุงุฑ", "ฺฉููุณุงุฑ"],
    "ุฎุฑุงุณุงู ุฑุถู": ["ูุดูุฏ", "ูุดุงุจูุฑ", "ุณุจุฒูุงุฑ", "ุชุฑุจุช ุญุฏุฑู", "ููฺุงู", "ฺฉุงุดูุฑ", "ุชุงุจุงุฏ", "ฺูุงุฑุงู", "ุณุฑุฎุณ", "ฺฏูุงุจุงุฏ", "ุฏุฑฺฏุฒ", "ุจุฑุฏุณฺฉู", "ุฎูุงู", "ูุฑูุงู", "ฺฏูุจูุงุฑ", "ุทุฑูุจู", "ุดุงูุฏุฒ", "ุฎููโุขุจุงุฏ", "ุจุฌุณุชุงู", "ุฑุดุชุฎูุงุฑ", "ุจุงุฎุฑุฒ", "ฺฉูุงุช", "ุฏุงูุฑุฒู", "ุฌูู", "ุฌุบุชุง", "ุฎูุดุงุจ", "ุตุงูุญโุขุจุงุฏ", "ูุฑูุฒู", "ุฒุงููู", "ูู ููุงุช", "ุจุงฺฏ", "ุจุฏุฎุช", "ฺฉุงุฎฺฉ", "ูุฏูฺฏุงู", "ุดุฑู ุขุจุงุฏ"],
    "ูุงุฑุณ": ["ุดุฑุงุฒ", "ูุฑูุฏุดุช", "ุฌูุฑู", "ูุณุง", "ฺฉุงุฒุฑูู", "ุฏุงุฑุงุจ", "ูุฑูุฒุขุจุงุฏ", "ูุงุฑุณุชุงู", "ูโุฑุฒ", "ุขุจุงุฏู", "ุงููุฏ", "ูุงูุฑุฏ", "ุณูพุฏุงู", "ฺฉูุงุฑ", "ุฒุฑูโุฏุดุช", "ูุฑ ู ฺฉุงุฑุฒู", "ุงุณุชูุจุงู", "ููุฑ", "ุฎุฑุงูู", "ฺฏุฑุงุด", "ุจูุงูุงุช", "ุณุฑูุณุชุงู", "ุจุฎุชฺฏุงู", "ูพุงุณุงุฑฺฏุงุฏ", "ุงุฑุณูุฌุงู", "ุฎุฑูโุจุฏ", "ูุฑุงุดุจูุฏ", "ุจุถุง", "ุณุฑฺูุงู", "ูุตุฑ", "ููุฑุขุจุงุฏ", "ุงุฑุฏฺฉุงู", "ุงุดฺฉูุงู", "ุฎูุฌ", "ุงูุฒ"],
    "ุฎูุฒุณุชุงู": ["ุงููุงุฒ", "ุฏุฒููู", "ุขุจุงุฏุงู", "ุฎุฑูุดูุฑ", "ูุงูุดูุฑ", "ุจุงู", "ุดูุด", "ุงุฐู", "ุจูุจูุงู", "ุงูุฏู", "ุงูุฏูุดฺฉ", "ุดูุดุชุฑ", "ูุณุฌุฏุณููุงู", "ุฑุงูุดุฑ", "ุจุงุบโููฺฉ", "ููุฏุฌุงู", "ุญูุฏู", "ุดุงุฏฺฏุงู", "ุฏุดุช ุขุฒุงุฏฺฏุงู", "ููุฒู", "ฺฏุชููุฏ", "ูุงู", "ุงูุฏฺฉุง", "ููุชฺฉู", "ุขุบุงุฌุงุฑ", "ฺฉุงุฑูู", "ุงุฑููุฏฺฉูุงุฑ", "ฺูุฆุจุฏู", "ุจุณุชุงู", "ุณูุณูฺฏุฑุฏ", "ุงููุง", "ุดุจุงู", "ููุงุซุงู", "ูุณ", "ุตุงูุญ ุดูุฑ"],
    "ูุงุฒูุฏุฑุงู": ["ุณุงุฑ", "ุจุงุจู", "ุขูู", "ูุงุฆูโุดูุฑ", "ุจูุดูุฑ", "ฺุงููุณ", "ููุดูุฑ", "ุชูฺฉุงุจู", "ุฑุงูุณุฑ", "ุจุงุจูุณุฑ", "ููุฑ", "ูุญููุฏุขุจุงุฏ", "ูุฑุฏููฺฉูุงุฑ", "ุฌูุจุงุฑ", "ูฺฉุง", "ฺฏููฺฏุงู", "ุนุจุงุณโุขุจุงุฏ", "ุณููุงูโุดูุฑ", "ฺฉูุงุฑุฏุดุช", "ูพู ุณูุฏ", "ุฒุฑุขุจ", "ุดุฑฺฏุงู", "ุขูุงุดุช", "ฺฉุงุณุฑ", "ุฑูู", "ฺฏุฒูฺฉ", "ูุฑุฒูโุขุจุงุฏ", "ูฺุฑูุฏ", "ฺฉุชุงูู", "ุณุงุฏุงุชโุดูุฑ", "ฺูุณุชุงู", "ุจูุฏู", "ุฑูุงู", "ุงุฒุฏุดูุฑ", "ุณุฑุฎุฑูุฏ"],
    "ฺฏูุงู": ["ุฑุดุช", "ุจูุฏุฑ ุงูุฒู", "ูุงูุฌุงู", "ููฺฏุฑูุฏ", "ูุดุชูพุฑ", "ุขุณุชุงุฑุง", "ุตููุนูโุณุฑุง", "ุฑูุฏุณุฑ", "ุฑุถูุงูุดูุฑ", "ูููู", "ูุงุณููู", "ูุงุณุงู", "ุดูุช", "ุณุงูฺฉู", "ุงููุด", "ุขุณุชุงูู ุงุดุฑูู", "ููุฌู", "ุฑูุฏุจุงุฑ", "ููุดุงู", "ุฑุณุชูโุขุจุงุฏ", "ฺฉุงุดูุฑ", "ุณูฺฏุฑ", "ุฎูุงู", "ฺฉูฺุตููุงู", "ูุดุช ูุดุง", "ุฎุดฺฉุจุฌุงุฑ", "ฺุงู", "ฺฉูููู", "ุดููุงู", "ูุงุฌุงุฑฺฏุงู", "ฺฉูุงฺุง", "ฺุงุจฺฉุณุฑ", "ุงุทุงููุฑ", "ุฏููุงู", "ุจุฑูโุณุฑ"],
    "ุขุฐุฑุจุงุฌุงู ุบุฑุจ": ["ุงุฑููู", "ุฎู", "ูุงูุฏูุขุจ", "ููุงุจุงุฏ", "ุณููุงุณ", "ูพุฑุงูุดูุฑ", "ููุฏู", "ุชฺฉุงุจ", "ูุงฺฉู", "ุณุฑุฏุดุช", "ุดุงููโุฏฺ", "ุงุดููู", "ูุฑูโุถุงุกุงูุฏู", "ุดูุท", "ูพูุฏุดุช", "ุจุงุฒุฑฺฏุงู", "ฺุงูพุงุฑู", "ูุฑูุฑู", "ุชุงุฒู ุดูุฑ", "ูุงููุณ", "ูุงุฌุงู", "ฺฏูฺฏ ุชูพู", "ูุญูุฏุงุฑ", "ุฑุจุท", "ูุฑุขุจุงุฏ", "ฺฏุฑุฏฺฉุดุงูู", "ุณุฑู", "ุณููุงูู", "ฺฉุดุงูุฑุฒ", "ุฏุฒุฌ ุฏุฒ", "ููุดฺ", "ููุดู ุดูุฑ", "ุจุงุฑูู", "ุฎููู ูู", "ุจูฺฉุงู"],
    "ฺฉุฑูุงู": ["ฺฉุฑูุงู", "ุณุฑุฌุงู", "ุฑูุณูุฌุงู", "ุฌุฑูุช", "ุจู", "ุฒุฑูุฏ", "ฺฉูููุฌ", "ุดูุฑุจุงุจฺฉ", "ุจุงูู", "ุจุฑุฏุณุฑ", "ุฑุงูุฑ", "ุนูุจุฑุขุจุงุฏ", "ูููุฌุงู", "ููุนูโฺฏูุฌ", "ุฑูุฏุจุงุฑ ุฌููุจ", "ููุฑุฌ", "ุฑฺฏุงู", "ูุฑูุงุดุฑ", "ฺฉููุจูุงู", "ุงูุงุฑ", "ุฑุงุจุฑ", "ุงุฑุฒูุฆู", "ูุงุฑุงุจ", "ุฑุงู", "ูุงูุงู", "ฺฏูุจุงู", "ุดูุฏุงุฏ", "ุงูุฏููุฌุฑุฏ", "ุฌููพุงุฑ", "ฺฉุงุธูโุขุจุงุฏ", "ูุญโุขุจุงุฏ", "ุจุงุบู", "ุฒูฺฏโุขุจุงุฏ", "ุงุฎุชุงุฑุขุจุงุฏ", "ููุงุดูุฑ"],
    "ุณุณุชุงู ู ุจููฺุณุชุงู": ["ุฒุงูุฏุงู", "ุฒุงุจู", "ุงุฑุงูุดูุฑ", "ฺุงุจูุงุฑ", "ุณุฑุงูุงู", "ุฎุงุด", "ฺฉูุงุฑฺฉ", "ูฺฉโุดูุฑ", "ุณุฑุจุงุฒ", "ุฑุงุณฺฉ", "ูููุฌ", "ูุตุฑููุฏ", "ุฏูฺฏุงู", "ุจููพูุฑ", "ุฒูฺฉ", "ููุฑูุฒ", "ูุงููู", "ูุฑููุฏ", "ูุฑุฌุงูู", "ุชูุชุงู", "ุฏุดุชุงุฑ", "ุจูุช", "ุงุณูพฺฉู", "ูพุดู", "ุงุฏู", "ุฏูุณุชโูุญูุฏ", "ุจูุฌุงุฑ", "ููฺฉโุขุจุงุฏ", "ฺฏูููุฑุช", "ูุญูุฏุขุจุงุฏ", "ุฌุงูู", "ฺฏุดุช", "ุณุฑฺฉุงู", "ูุฏูฺ", "ุณูุฑุงู"],
    "ุงูุจุฑุฒ": ["ฺฉุฑุฌ", "ูุฑุฏุณ", "ูุธุฑุขุจุงุฏ", "ุณุงูุฌุจูุงุบ", "ุงุดุชูุงุฑุฏ", "ุทุงููุงู", "ฺฉูุงูโุดูุฑ", "ูุดุชฺฏุฑุฏ", "ฺูุงุฑุจุงุบ", "ูุญูุฏุดูุฑ", "ูุงูุฏุดุช", "ูุดฺฉูโุฏุดุช", "ฺฏุฑูุฏุฑู", "ฺฏูุณุงุฑ", "ฺฉููุณุงุฑ", "ุชูฺฉูุงู", "ุขุณุงุฑุง", "ูพู ุฎูุงุจ", "ุขุฏุฑุงู", "ฺฉูุฏูุงู", "ุฏุฒู", "ุณููู", "ุฒุนูุฑุงูู", "ฺฉุฑุฏุงู", "ุจุฑุบุงู", "ุงุบุดุช", "ฺูุงุฑุจุงุบ", "ุณููุฑุขุจุงุฏ", "ูุดฺฉุฑุขุจุงุฏ", "ูู", "ุฎูุฑ", "ูุดูุฏ", "ุดููุฒุงุฑ", "ฺฉููุณุงุฑ"],
    "ุงุฑุฏุจู": ["ุงุฑุฏุจู", "ูพุงุฑุณโุขุจุงุฏ", "ูุดฺฏูโุดูุฑ", "ุฎูุฎุงู", "ฺฏุฑู", "ููู", "ูุฑ", "ุณุฑุนู", "ฺฉูุซุฑ", "ุจููโุณูุงุฑ", "ุงุตูุงูุฏูุฒ", "ูุดุฌู", "ฺฏู", "ูุฑ", "ูุงูุฑูุฏ", "ุฌุนูุฑุขุจุงุฏ", "ุงูฺฏูุช", "ฺฉูุฑุงู", "ุฑุถ", "ูุฎุฑุขุจุงุฏ", "ุขุจโุจฺฏูู", "ุนูุจุฑุงู", "ุงุณูุงูโุขุจุงุฏ", "ูุฑุงุฏูู", "ูุตุงุจู", "ุซูุฑู", "ุงุฑุงูโุขุจุงุฏ", "ุจุฑุงู", "ุดุงูุฑูุฏ", "ุฎูุฎุงู", "ูุบุงู", "ููู", "ูุฑ", "ุชุงุฒู ฺฉูุฏ", "ุงููุงู"],
    "ูุฒูู": ["ูุฒูู", "ุงูููุฏ", "ุชุงฺฉุณุชุงู", "ุขุจฺฉ", "ุจูุฆูโุฒูุฑุง", "ุขูุฌ", "ุงูุจุงูู", "ุดุฑูู", "ูุญููุฏุขุจุงุฏ ููููู", "ุจุฏุณุชุงู", "ุงุณูุฑูุฑู", "ุถุงุกุขุจุงุฏ", "ุฎุฑูุฏุดุช", "ูุฑุฌู", "ุณฺฏุฒุขุจุงุฏ", "ุดุงู", "ุฏุงูุณููุงู", "ุงุฑุฏุงู", "ูุนููโฺฉูุงู", "ุฑุงุฒูุงู", "ฺฉููู", "ุณุฑุฏุงู", "ุฑุฌุง ุฏุดุช", "ุงูููุช", "ูฺฉูุฆู", "ุฎุงฺฉุนู", "ุขู ุจุงุจุง", "ูุงุตุฑุขุจุงุฏ", "ฺฉููุฏุฌ", "ุจุดุฑ", "ุฌูุดุฏ ุขุจุงุฏ", "ฺฉฺฉุงู", "ุณุงููพูุด", "ุณุงุฑุจุงูฺฉ", "ุญุตุงุฑ"],
    "ูุฑฺฉุฒ": ["ุงุฑุงฺฉ", "ุณุงูู", "ุฎูู", "ูุญูุงุช", "ุฏูุฌุงู", "ุดุงุฒูุฏ", "ุชูุฑุด", "ฺฉูุฌุงู", "ุขุดุชุงู", "ุฎูุฏุงุจ", "ุฒุฑูุฏู", "ูุฑุงูุงู", "ูุฃูููู", "ุฒุงูู", "ูพุฑูุฏฺฉ", "ุฎุดฺฉุฑูุฏ", "ุฑุงุฒูุงู", "ููุงุฌุฑุงู", "ุชูุฑู", "ุขุณุชุงูู", "ููุฏูุฏุฑ", "ููุงุฌุฑุฏ", "ุฌุงูุฑุณุงู", "ฺฉุงุฑฺุงู", "ุฏุงูุฏุขุจุงุฏ", "ุณุงุฑูู", "ููโูุฑ", "ูุฑุงู", "ููุจุฑุงู", "ุบุฑูโุขุจุงุฏ", "ุฎูุฌู", "ุชูุฎุงุจ", "ูุฑููู", "ููุฑฺโุจุงุด", "ุดูุจุงุฒ"],
    "ููุฏุงู": ["ููุฏุงู", "ููุงุฑ", "ููุงููุฏ", "ุชูุณุฑฺฉุงู", "ุงุณุฏุขุจุงุฏ", "ฺฉุจูุฏุฑุขููฺฏ", "ุจูุงุฑ", "ุฑุฒู", "ูุงููู", "ุฏุฑฺฏุฒู", "ูุฑุงูุฌ", "ุฌูุฑูุงู", "ูุงูุฌู", "ุตุงูุญโุขุจุงุฏ", "ูุฑูู ุฏุฑุฌุฒู", "ุฏูู", "ฺฏุงู", "ุจุฑุฒูู", "ูุฑูุฒุงู", "ุงุฒูุฏุฑุงู", "ุณุงูู", "ุฌูฺฉุงุฑ", "ุฒูฺฏูู", "ูุฑุณูุฌ", "ุดุฑูโุณู", "ฺฏูโุชูพู", "ุณุฑฺฉุงู", "ุขุฌู", "ูพุงูุฒ", "ููุงุฌุฑุงู", "ฺฉุฑูุณ", "ุณูุฑุชุฌู", "ูฺฏุฌู", "ูุงู", "ููุงููุฏ"],
    "ุฒุฏ": ["ุฒุฏ", "ูุจุฏ", "ุงุฑุฏฺฉุงู", "ุจุงูู", "ููุฑุฒ", "ุงุจุฑฺฉูู", "ุชูุช", "ุงุดฺฉุฐุฑ", "ูุฑุงุช", "ูุฑูุณุช", "ุจูุงุจุงุฏ", "ุฒุงุฑฺ", "ุดุงูุฏู", "ุญูุฏุง", "ุนูุฏุง", "ุงุญูุฏุขุจุงุฏ", "ุจูุฑูุฆู", "ูุฏูุดู", "ุฎุถุฑุขุจุงุฏ", "ูุฑ", "ุจุฎ", "ฺฏุงุฑุฒุงุช", "ููุฑุขุจุงุฏ", "ุจุงูู", "ุฏูุดุฑ", "ุฑุจุงุท ูพุดุช ุจุงุฏุงู", "ุณุงุบูุฏ", "ฺููพุงูุงู", "ุงูููโุขุจุงุฏ", "ูุญูุฏุขุจุงุฏ", "ฺุฑุฎุงุจ", "ุฎุงุชู", "ุทุฒุฑุฌุงู", "ุฏู ุจุงูุง", "ููุดุงุฏ"],
    "ูู": ["ูู", "ูููุงุช", "ุฌุนูุฑู", "ฺฉูฺฉ", "ุฏุณุชุฌุฑุฏ", "ุณููฺฺฏุงู", "ุดฺฉููู", "ุฌูฺฉุฑุงู", "ูพุฑุฏุณุงู", "ูุงูุฌู", "ุฎูุฑุขุจุงุฏ", "ููฺฉ", "ุทุงูุงู", "ููุนูโฺู", "ููููู", "ุณุงุฑู", "ูุฑุฏู", "ูุดุงุฑู", "ุณุฑู", "ูู", "ุงูุงูุฒุงุฏู ุงุณูุงุนู", "ูุฑุฌุงู", "ุณูฺฏ", "ูุงูุงู", "ุจุฏููุฏ", "ฺฉุฑูุฌฺฏุงู", "ุตุฑู", "ุชุงุฌโุฎุงุชูู", "ุนูโุขุจุงุฏ", "ููุจุฑุขุจุงุฏ", "ุฌูุชโุขุจุงุฏ", "ุดุฑูโุขุจุงุฏ", "ุญุณูโุขุจุงุฏ", "ูุจุงุฑฺฉโุขุจุงุฏ", "ุณุฑุงุฌู"],
    "ฺฉุฑุฏุณุชุงู": ["ุณููุฏุฌ", "ุณูุฒ", "ูุฑูุงู", "ุจุงูู", "ูุฑูู", "ฺฉุงูุงุฑุงู", "ุจุฌุงุฑ", "ุฏูุงูุฏุฑู", "ุฏูฺฏูุงู", "ุณุฑูุขุจุงุฏ", "ฺฉุงูโุฏูุงุฑ", "ุงูุฑุงูุงู ุชุฎุช", "ฺูุงุฑู", "ุขุฑูุฑุฏู", "ฺฉุงูโุณูุฑ", "ุจูู ุณูู", "ุตุงุญุจ", "ุณุฑุดโุขุจุงุฏ", "ุฏุฒุฌ", "ุฏูุจุฑุงู", "ููฺุด", "ุงุณูฺฉูุฏ", "ุจุงุจุงุฑุดุงู", "ุฒุฑูู", "ุจูุจุงูโุขุจุงุฏ", "ุดู", "ุญุณูโุขุจุงุฏ", "ุดูุดู", "ุจุฑุฏู ุฑุดู", "ูพุฑุชุงุฌ", "ุชููพ ุขุบุงุฌ", "ูุฌู ุขุจุงุฏ", "ููููู", "ุตููุงุช ุขุจุงุฏ", "ฺฏุฑุฏูุฑุงู"],
    "ูุฑุณุชุงู": ["ุฎุฑูโุขุจุงุฏ", "ุจุฑูุฌุฑุฏ", "ุฏูุฑูุฏ", "ฺฉููุฏุดุช", "ุฏููุงู", "ุงูฺฏูุฏุฑุฒ", "ุงูุดุชุฑ", "ูพูุฏุฎุชุฑ", "ุงุฒูุง", "ุฏูุฑู", "ุฑููุดฺฉุงู", "ููุฑุขุจุงุฏ", "ฺุบูููุฏ", "ุฒุงุบู", "ุงุดุชุฑูุงู", "ฺฉูููุงู", "ฺฏุฑุงุจ", "ุณุฑุงุจ ุฏูุฑู", "ูุณุงู", "ุณูพุฏุฏุดุช", "ุดููโุขุจุงุฏ", "ููุชโฺุดูู", "ููููโุขุจุงุฏ", "ุฏุฑุจ ฺฏูุจุฏ", "ูุฑูุฒุขุจุงุฏ", "ุจุฑุฎูุฑุฏุงุฑ", "ฺููโุณูุทุงู", "ุชุงู", "ุณูุงุฎูุฑ", "ูุงุณูุฑ", "ุจุฏุฑุขุจุงุฏ", "ฺฉูุงูููุฏ", "ุณุฑุงุจ ููููุฑ", "ุฑุจุงุท", "ุชูฺฏ ููุช"],
    "ฺฉุฑูุงูุดุงู": ["ฺฉุฑูุงูุดุงู", "ุงุณูุงูโุขุจุงุฏ ุบุฑุจ", "ุฌูุงูุฑูุฏ", "ฺฉูฺฏุงูุฑ", "ุณุฑูพู ุฐูุงุจ", "ุณููุฑ", "ูุฑุณู", "ุตุญูู", "ูพุงูู", "ุฑูุงูุณุฑ", "ฺฏูุงูุบุฑุจ", "ูุตุฑุดุฑู", "ุชุงุฒู ุขุจุงุฏ", "ุซูุงุซ ุจุงุจุงุฌุงู", "ฺฉุฑูุฏ ุบุฑุจ", "ุฏุงูุงูู", "ุจุณุชูู", "ุญูู", "ฺฉูุฒุฑุงู", "ูุงูุฏุดุช", "ููุด", "ููุฏุดู", "ููุณูุฏ", "ุจุงูฺฏุงู", "ุงุฒฺฏูู", "ุดุงูู", "ุจุงููโูุฑู", "ฺฏููุงุฑู", "ุณุฑูุณุช", "ูุงูโุฑุงูุงู", "ุณุทุฑ", "ุฑุจุงุท", "ุณููุงุฑ", "ููุช ุดูุฑ", "ฺฏูุฏู"],
    "ุฎุฑุงุณุงู ุดูุงู": ["ุจุฌููุฑุฏ", "ุดุฑูุงู", "ุงุณูุฑุงู", "ุขุดุฎุงูู", "ุฌุงุฌุฑู", "ฺฏุฑูู", "ูุงุฑูุฌ", "ุฑุงุฒ", "ุฌุฑฺฏูุงู", "ูุงูู", "ุณูููุงู", "ุตูโุขุจุงุฏ", "ุงูุฑ", "ุฏุฑู", "ุชุชฺฉุงููู", "ุญุตุงุฑ ฺฏุฑูุฎุงู", "ููุฌู", "ูพุดโููุนู", "ุบูุงูุงู", "ฺฉูโุตุนูุฏ", "ูุงุถ", "ุดููุงู", "ุณูุฎูุงุณุช", "ุฎุงููู", "ุฒุงุฑุช", "ุจุฏฺฉ", "ุงุฑฺฉุงู", "ูพุฑุฏุณ", "ุจุงุจุง ุงูุงู", "ุจุดโูุงุฑุฏุงุด", "ุงุณุฏู", "ุจุฏุฑุงููู", "ุฑูู", "ููุนู ุฎุงู", "ฺูุงุฑุงู ุดูุฑ"],
    "ุฎุฑุงุณุงู ุฌููุจ": ["ุจุฑุฌูุฏ", "ูุงุฆูุงุช", "ุทุจุณ", "ูุฑุฏูุณ", "ููุจูุฏุงู", "ุณุฑุจุดู", "ุฏุฑูุงู", "ุณุฑุงุงู", "ุจุดุฑูู", "ุฎูุณู", "ุฒุฑฺฉูู", "ุขุฑูโุดูุฑ", "ุงุณุฏู", "ููุณุชุงู", "ฺฏุฒฺฉ", "ุงุณูุฏู", "ุญุงุฌโุขุจุงุฏ", "ุณู ููุนู", "ุขุณฺฉ", "ููุฏ", "ุดูุณูู", "ููุจููฺฉ", "ุฎุถุฑ ุฏุดุช ุจุงุถ", "ุฏููฺฉ", "ุนุดูโุขุจุงุฏ", "ุงุฑุณฺฉ", "ุนุงู ุดูุฑ", "ุฏุฑูู", "ุงูุถู ุขุจุงุฏ", "ูุงฺุงู", "ุฒูุงู", "ุณุฏู", "ุขุจฺฏุฑู", "ุฎูุฑ", "ุจูุฏ ุฏุฑู"],
    "ฺฏูุณุชุงู": ["ฺฏุฑฺฏุงู", "ฺฏูุจุฏ ฺฉุงููุณ", "ุจูุฏุฑ ุชุฑฺฉูู", "ุนูโุขุจุงุฏ ฺฉุชูู", "ุขุฒุงุฏุดูุฑ", "ฺฉุฑุฏฺฉู", "ฺฉูุงูู", "ุขูโููุง", "ูููุฏุดุช", "ฺฏุงูฺฉุด", "ุจูุฏุฑ ฺฏุฒ", "ฺฏูุดุงู", "ูุฑุงููโุชูพู", "ุฑุงูุงู", "ุฎุงูโุจุจู", "ุฏููุฏ", "ูุงุถูโุขุจุงุฏ", "ุฌูู", "ุณุฑุฎูฺฉูู", "ูุฑู", "ุงูุจุงุฑ ุขููู", "ุณููโุดูุฑ", "ุงูฺูโุจุฑูู", "ุชุงุชุงุฑ ุนูุง", "ุณูฺฏุฏูู", "ูุฒุฑุนู", "ููฺฉูุฏู", "ูุฑุงุบ", "ฺฏูุฏุงุบ", "ุฏูุฒู", "ุตุงุฏูโุขุจุงุฏ", "ุฏูุฒู", "ฺฉุฑูุฏ", "ููุชู", "ุฏุงุดู ุจุฑูู"],
    "ุจูุดูุฑ": ["ุจูุดูุฑ", "ุจุฑุงุฒุฌุงู", "ฺฏูุงูู", "ฺฉูฺฏุงู", "ุนุณููู", "ุฌู", "ุฏุฑ", "ุฏูู", "ุฎูุฑููุฌ", "ุชูฺฏุณุชุงู", "ุงูุฑู", "ุขุจุฏุงู", "ฺุบุงุฏฺฉ", "ุนุงูโุดูุฑ", "ุฏุงูฺฉ", "ูุญุฏุชู", "ุณุนุฏุขุจุงุฏ", "ุดุจุงูฺฉุงุฑู", "ุขุจโูพุฎุด", "ุจูุฏุฑ ุฑฺฏ", "ุจุฑุฏุณุชุงู", "ฺฉุงฺฉ", "ุจูฺฉ", "ูุฎู ุชู", "ุณุฑุงู", "ุฑุฒ", "ุงูุงุฑุณุชุงู", "ุฏููุงุฑ", "ุจูุดฺฉุงู", "ฺฉููู", "ุฎุงุฑฺฉ", "ุฌุฒุฑู ูฺฏู", "ูููู", "ุฑุณุชู", "ุจูุงูุฎุฑ"],
    "ูุฑูุฒฺฏุงู": ["ุจูุฏุฑุนุจุงุณ", "ููุงุจ", "ุฏูุจุงุฑุฒ", "ูุดู", "ฺฉุด", "ุญุงุฌโุขุจุงุฏ", "ุจูุฏุฑ ููฺฏู", "ุจุณุชฺฉ", "ูพุงุฑุณุงู", "ุฌุงุณฺฉ", "ุฑูุฏุงู", "ุจูุฏุฑ ุฎูุฑ", "ุณุฑฺฉ", "ุจุดุงฺฏุฑุฏ", "ุงุจูููุณ", "ูุฑูุฒ", "ูู", "ููุนู ูุงุถ", "ุชุฎุช", "ุจูุฏุฑ ฺุงุฑฺฉ", "ฺฉูฺฏ", "ุฌูุงุญ", "ุฑูุฏุฑ", "ุจฺฉุงู", "ูุดุชุจูุฏ", "ุชุฑูุฑ", "ฺฏุฑูฺฉ", "ฺฉููุณุชฺฉ", "ุฏุดุช", "ฺฉูุดฺฉูุงุฑ", "ููุฒุงู", "ฺฏููุฑุงู", "ุณุฑุฏุดุช", "ุณูุฒุง", "ูุฑูุฒ"],
    "ุงูุงู": ["ุงูุงู", "ุฏููุฑุงู", "ฺุฑุฏุงูู", "ุขุจุฏุงูุงู", "ููุฑุงู", "ุงูุงู", "ุจุฏุฑู", "ุณุฑูุงู", "ููฺฉุดุงู", "ุฏุฑูโุดูุฑ", "ูููุงู", "ฺูุงุฑ", "ุงุฑฺฉูุงุฒ", "ูููุงุฑ", "ููุฑููุฑ", "ุณุฑุงุจูู", "ุฒุฑูู", "ุตุงูุญโุขุจุงุฏ", "ููุณุงู", "ููฺฉ", "ุขุณูุงูโุขุจุงุฏ", "ุดุจุงุจ", "ุฏูฺฏุดุง", "ุชูุญุฏ", "ููุฑ", "ูพููู", "ูุงฺู", "ููู", "ุณุฑุงุจ ุจุงุบ", "ููุช ฺุดูู", "ุจุงูููุงู", "ฺุดูู ุดุฑู", "ุฏุดุช ุนุจุงุณ", "ุฏุดุช ุขุจุงุฏ", "ูฺฉู"],
    "ฺูุงุฑูุญุงู ู ุจุฎุชุงุฑ": ["ุดูุฑฺฉุฑุฏ", "ุจุฑูุฌู", "ูุฑุฏฺฏุงู", "ูุงุฑุณุงู", "ุงุฑุฏู", "ฺฉุงุฑ", "ุจู", "ุณุงูุงู", "ฺฉููุฑูฺฏ", "ุฎุงููุฑุฒุง", "ูุฑุฎโุดูุฑ", "ููุดุฌุงู", "ุทุงูุงูฺฉ", "ูุงูฺ", "ุณูุฑุดุฌุงู", "ุณูุฏุฌุงู", "ูุงุฑูู", "ฺูฺฏุฑุฏ", "ุจุงุฒูุช", "ุตูุตุงู", "ุฏุดุชฺฉ", "ุดููุฒุงุฑ", "ฺฏูุฑู", "ูุงุบุงู", "ุจูุฏุงุฌ", "ฺฏูุฏูุงู", "ุณูุฏุฏุดุช", "ุขููู", "ูุงูโุฎููู", "ููุฌ", "ูุฑุฏูุฌุงู", "ูุฑุงุฏูุจู", "ุฌูููุงู", "ฺฏูุฌุงู", "ฺูฺู"],
    "ฺฉูฺฏููู ู ุจูุฑุงุญูุฏ": ["ุงุณูุฌ", "ุฏูฺฏูุจุฏุงู", "ุฏูุฏุดุช", "ูฺฉฺฉ", "ูุงุฏูุงู", "ุณโุณุฎุช", "ฺุฑุงู", "ุจุงุดุช", "ููุฏู", "ูพุงุชุงูู", "ููุนู ุฑุฆุณ", "ุฏุดููฺฉ", "ุณูู", "ูุงุฑฺฏูู", "ฺุชุงุจ", "ฺฏุฑุงุจ ุณูู", "ุณุฑูุงุฑุงุจ", "ุจูุณุชุงู", "ููุจ", "ุณุฑุขุณุงุจ", "ุฏูู", "ููุฏุงุจ", "ุชููฺฉ", "ฺฉุงฺฉุงู", "ูุฒฺฏ", "ูุฎุชุงุฑ", "ุฏููู", "ุฏุดุช ุฑูู", "ููฺฏุงู", "ุฑุงฺฉ", "ุณุงุฏุงุช ุนุจุงุณ", "ุณูพุฏุงุฑ", "ุฌูู", "ุจุงุจฺฉุงู", "ุฒูุง"],
    "ุณููุงู": ["ุณููุงู", "ุดุงูุฑูุฏ", "ุฏุงูุบุงู", "ฺฏุฑูุณุงุฑ", "ููุฏโุดูุฑ", "ุงูุงูฺฉ", "ุขุฑุงุฏุงู", "ุณุฑุฎู", "ูุงู", "ุจุณุทุงู", "ูุฌู", "ฺฉูุงุชู ุฎุฌ", "ุดููุฑุฒุงุฏ", "ุฏุฑุฌุฒู", "ุจุงุฑุฌููุฏ", "ุฑูุฏุงู", "ุงูุฑู", "ุฏุจุงุฌ", "ฺฉูุงุชู ุฑูุฏุจุงุฑ", "ฺฉููโุขุจุงุฏ", "ุงูุงูฺฉ", "ุฑโุขุจุงุฏ", "ุจฺฉุฑุงู", "ูุงูู", "ูุฑุฏู", "ุญุณูโุขุจุงุฏ", "ุฏุงูุฑุฒู", "ูุฑููุฏ", "ุชูุฑุงู", "ุฎุงุฑ ุชูุฑุงู", "ุขููุงู", "ูุงุณุฌุฑุฏ", "ุฏู ููฺฉ", "ูพุงุงูู", "ุฌูุฏู"],
    "ุฒูุฌุงู": ["ุฒูุฌุงู", "ุงุจูุฑ", "ุฎุฑูุฏุฑู", "ูุฏุงุฑ", "ุทุงุฑู", "ูุงููุดุงู", "ุงุฌุฑูุฏ", "ุณูุทุงูู", "ุขุจโุจุฑ", "ุฒุฑูโุขุจุงุฏ", "ุฏูุฏ", "ูุฏุฌ", "ุตุงูโููุนู", "ุณูุฑูุฑุฏ", "ฺฏุฑูุงุจ", "ุฒุฑูโุฑูุฏ", "ฺูุฑุฒู", "ุงุฑูุบุงูโุฎุงูู", "ูฺฉโูพ", "ุญูุจ", "ุณูุฑู", "ูพุงูพุง", "ูุฑู ูพุดุชูู", "ุฎุฏุงุจูุฏู", "ุณุฌุงุณ", "ฺฉุฑุณู", "ููุฑุจูุงุฑ", "ุงูุดุงุฑ", "ุจุฒููโุฑูุฏ", "ูุฑูโุจูุงุบ", "ูพุฑูุฑุฒุจุงู", "ุดุช", "ููุฏุฑ", "ูุฑ", "ุฏู ุฌูุงู"]
};

const API_KEY = 'bf8755006c2fc6e2762533c174860bf6';

// ููุทู ูุฑูุฏ ู ุฎุฑูุฌ
function init(){
    const u = document.getElementById('fname').value.trim();
    if(u.length < 2) return;
    localStorage.setItem('u', u);
    location.reload();
}
function exit(){
    localStorage.removeItem('u');
    location.reload();
}

window.onload = () => {
    const u = localStorage.getItem('u');
    if(u){
        document.getElementById('login-screen').style.display='none';
        document.getElementById('app').style.display='block';
        document.getElementById('h-ui').style.display='flex';
        document.getElementById('user-display').innerText = u;
        loadProvinces();
        loadComments();
    }
};

// ูุฏุฑุช ูุธุฑุงุช (ููุท ุญุฐู ูุธุฑ ุฎูุฏ ฺฉุงุฑุจุฑ)
function addComment(){
    const t = document.getElementById('c-input').value.trim();
    if(!t) return;
    const list = JSON.parse(localStorage.getItem('cm')||'[]');
    list.unshift({
        id: Date.now(),
        u: localStorage.getItem('u'), 
        t: t, 
        d: new Date().toLocaleTimeString('fa-IR', {hour:'2-digit', minute:'2-digit'})
    });
    localStorage.setItem('cm', JSON.stringify(list.slice(0,25)));
    document.getElementById('c-input').value = '';
    loadComments();
}

function deleteComment(id){
    let list = JSON.parse(localStorage.getItem('cm')||'[]');
    list = list.filter(item => item.id !== id);
    localStorage.setItem('cm', JSON.stringify(list));
    loadComments();
}

function loadComments(){
    const currentUser = localStorage.getItem('u');
    const list = JSON.parse(localStorage.getItem('cm')||'[]');
    document.getElementById('c-list').innerHTML = list.map(i => `
        <div class="comment-item">
            ${i.u === currentUser ? `<i class="fa fa-trash del-icon" onclick="deleteComment(${i.id})"></i>` : ''}
            <b>${i.u}:</b> ${i.t}
            <small style="display:block; font-size:0.6rem; opacity:0.5; margin-top:5px">${i.d}</small>
        </div>
    `).join('');
}

// ุชูุงุจุน ููุงุดูุงุณ
function loadProvinces(){
    const s = document.getElementById('prov-select');
    s.innerHTML = '<option value="">ุงูุชุฎุงุจ ุงุณุชุงู...</option>' + 
        Object.keys(DB).sort().map(p => `<option value="${p}">${p}</option>`).join('');
}

function loadCities(){
    const p = document.getElementById('prov-select').value;
    const s = document.getElementById('city-select');
    if(!p) return;
    s.innerHTML = DB[p].sort().map(c => `<option value="${c}">${c}</option>`).join('');
    getWeather();
}

async function getWeather(manualCity){
    const city = manualCity || document.getElementById('city-select').value;
    if(!city || city.includes('ุงูุชุฎุงุจ')) return;
    try {
        const res = await fetch(`https://api.openweathermap.org/data/2.5/weather?q=${city}&appid=${API_KEY}&units=metric&lang=fa`);
        const data = await res.json();
        document.getElementById('result').style.display = 'block';
        document.getElementById('res-city').innerText = city;
        document.getElementById('res-temp').innerText = Math.round(data.main.temp) + 'ยฐ';
        document.getElementById('res-desc').innerText = data.weather[0].description;
        document.getElementById('wind').innerText = data.wind.speed + ' m/s';
        document.getElementById('hum').innerText = data.main.humidity + '%';
        document.getElementById('res-icon').innerHTML = `<img src="https://openweathermap.org/img/wn/${data.weather[0].icon}@2x.png">`;
        getForecast(city);
    } catch(e) {}
}

async function getForecast(city){
    const res = await fetch(`https://api.openweathermap.org/data/2.5/forecast?q=${city}&appid=${API_KEY}&units=metric&lang=fa`);
    const data = await res.json();
    const daily = data.list.filter((_,i) => i % 8 === 0);
    document.getElementById('forecast').innerHTML = daily.map(d => `
        <div class="f-item">
            <div style="font-size:0.7rem">${new Date(d.dt*1000).toLocaleDateString('fa-IR',{weekday:'short'})}</div>
            <img src="https://openweathermap.org/img/wn/${d.weather[0].icon}.png" style="width:40px">
            <div style="font-weight:bold">${Math.round(d.main.temp)}ยฐ</div>
        </div>
    `).join('');
}

function quickSearch(){
    const val = document.getElementById('search-box').value.trim();
    if(val.length < 2) return;
    for(let prov in DB){
        const found = DB[prov].find(c => c === val || c.startsWith(val));
        if(found){
            getWeather(found);
            break;
        }
    }
}

setInterval(()=>{
    const n = new Date();
    document.getElementById('clock').innerText = n.toLocaleTimeString('fa-IR');
    document.getElementById('date').innerText = n.toLocaleDateString('fa-IR',{dateStyle:'full'});
    document.body.className = (n.getHours()>=18 || n.getHours()<6) ? 'night-mode' : '';
},1000);
</script>
</body>
</html>
