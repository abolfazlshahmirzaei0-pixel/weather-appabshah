<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta name="google-site-verification" content="OUObRvSkSIUhaQTLvJQbQwepm5u-eRmTWSzC5QiVcl4" />
    
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ููุงุดูุงุณ ููุดููุฏ | ุงุจูุงููุถู ุดุงููุฑุฒุง</title>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://cdn.jsdelivr.net/gh/rastikerdar/vazirmatn@v33.003/Vazirmatn-font-face.css" rel="stylesheet">

    <style>
        :root { --p: #0ea5e9; --s: #8b5cf6; --bg-d: #f1f5f9; --bg-n: #0f172a; --g-d: rgba(255,255,255,0.9); --g-n: rgba(30,41,59,0.85); }
        * { box-sizing: border-box; transition: 0.3s; font-family: 'Vazirmatn', sans-serif; }
        body { margin: 0; min-height: 100vh; background: var(--bg-d); color: #1e293b; overflow-x: hidden; }
        body.night-mode { background: var(--bg-n); color: #f8fafc; }
        header { padding: 10px 5%; display: flex; justify-content: space-between; align-items: center; backdrop-filter: blur(10px); border-bottom: 1px solid rgba(128,128,128,0.2); position: sticky; top: 0; z-index: 1000; background: rgba(255,255,255,0.1); }
        .container { max-width: 800px; margin: 20px auto; padding: 0 15px; }
        .glass { background: var(--g-d); border-radius: 20px; padding: 20px; margin-bottom: 20px; border: 1px solid rgba(255,255,255,0.3); box-shadow: 0 8px 32px rgba(0,0,0,0.1); }
        .night-mode .glass { background: var(--g-n); }
        .weather-card { background: linear-gradient(135deg, #0ea5e9, #8b5cf6); color: #fff; text-align: center; }
        .btn { background: var(--p); color: #fff; border: none; padding: 12px 20px; border-radius: 12px; cursor: pointer; font-weight: bold; }
        input, select { width: 100%; padding: 12px; border-radius: 12px; border: 1px solid #cbd5e1; margin-bottom: 10px; outline: none; }
        .comment-item { background: rgba(0,0,0,0.03); padding: 12px; border-radius: 12px; margin-bottom: 10px; border-right: 4px solid var(--s); position: relative; }
        .night-mode .comment-item { background: rgba(255,255,255,0.05); }
        .del-btn { color: #ef4444; cursor: pointer; float: left; border: none; background: none; font-size: 1.1rem; }
        #forecast { display: flex; gap: 10px; overflow-x: auto; padding-bottom: 10px; }
        .f-item { min-width: 85px; background: rgba(139,92,246,0.1); padding: 10px; border-radius: 15px; text-align: center; flex-shrink: 0; }
    </style>
</head>
<body>

<div id="login-screen" style="position:fixed; inset:0; background:#0f172a; display:flex; align-items:center; justify-content:center; z-index:9999">
    <div class="glass" style="width:340px; text-align:center;">
        <h2 style="color:#0ea5e9;">ููุงุดูุงุณ ููุดููุฏ</h2>
        <p style="color:#64748b; font-size:0.8rem">ุทุฑุงุญ: ุงุจูุงููุถู ุดุงููุฑุฒุง</p>
        <input id="fname" placeholder="ูุงู ุฎูุฏ ุฑุง ูุงุฑุฏ ฺฉูุฏ...">
        <button class="btn" style="width:100%" onclick="login()">ูุฑูุฏ</button>
    </div>
</div>

<header id="h-ui" style="display:none">
    <button class="btn" style="background:#ef4444; padding: 8px 15px" onclick="logout()">ุฎุฑูุฌ</button>
    <div style="text-align:center">
        <div id="clock" style="font-weight:900; color:var(--p)"></div>
        <div style="font-size:0.6rem; color:var(--s)">ุณุงุฒูุฏู: ุงุจูุงููุถู ุดุงููุฑุฒุง</div>
    </div>
    <div id="user-display" style="font-weight:bold"></div>
</header>

<div class="container" id="app" style="display:none">
    <div class="glass">
        <input id="search-box" placeholder="๐ ุฌุณุชุฌู ุณุฑุน ุดูุฑ..." oninput="quickSearch()">
        <div style="display:grid; grid-template-columns:1fr 1fr; gap:10px">
            <select id="prov-select" onchange="loadCities()"></select>
            <select id="city-select" onchange="getWeather()"><option>ุงูุชุฎุงุจ ุดูุฑ...</option></select>
        </div>
    </div>

    <div id="result" style="display:none">
        <div class="glass weather-card">
            <h2 id="res-city" style="margin:0"></h2>
            <div id="res-icon"></div>
            <div id="res-temp" style="font-size:3.5rem; font-weight:900"></div>
            <p id="res-desc"></p>
        </div>
        <div class="glass">
            <h4>ูพุดโุจู ุฑูุฒูุง ุขูุฏู</h4>
            <div id="forecast"></div>
        </div>
    </div>

    <div class="glass">
        <h4>๐จ๏ธ ฺฏุฒุงุฑุดุงุช ูุฑุฏู</h4>
        <div style="display:flex; gap:5px">
            <input id="c-input" style="margin:0" placeholder="ูพุงู ุดูุง...">
            <button class="btn" onclick="addComment()">ุงุฑุณุงู</button>
        </div>
        <div id="c-list" style="margin-top:15px"></div>
    </div>
</div>

<script>
// ุฏุชุงุจุณ ฺฉุงูู ณฑ ุงุณุชุงู ู ุดูุฑูุง (ุจู ุฏูู ูุญุฏูุฏุชุ ุณุงุฎุชุงุฑ ุขูุงุฏู ุงุณุช ู ุดูุฑูุง ุงุตู ุฏุฑุฌ ุดุฏูโุงูุฏ)
const DB = {
    "ุขุฐุฑุจุงุฌุงู ุดุฑู": ["ุชุจุฑุฒ", "ูุฑุงุบู", "ูุฑูุฏ", "ูุงูู", "ุงูุฑ", "ุจูุงุจ", "ุณุฑุงุจ", "ุขุฐุฑุดูุฑ", "ูุงุฏุดูุฑ", "ุนุฌุจโุดุฑ", "ูุดุชุฑูุฏ", "ููฺฉุงู", "ุดุจุณุชุฑ", "ุฎุณุฑูุดุงู", "ุจุณุชุงูโุขุจุงุฏ", "ุงูุฎฺ", "ูููุงู", "ฺฏูฺฏุงู", "ุจุฎุดุงุด", "ููุฑุจุงู", "ูุฑุณ", "ุงูฺ", "ุตููุงู", "ฺฉูุจุฑ", "ฺฉุดฺฉุณุฑุง", "ุชุณูุฌ", "ุชุฑฺฉูุงูฺุง", "ููุงู", "ูุฑูโุขุบุงุฌ", "ุดุฑูุฎุงูู", "ูุฑุฒูุงู", "ูููุฑ", "ููุฑุงูุฏ", "ุณููุฏ", "ุจุงุณููุฌ"],
    "ุขุฐุฑุจุงุฌุงู ุบุฑุจ": ["ุงุฑููู", "ุฎู", "ุจูฺฉุงู", "ููุงุจุงุฏ", "ูุงูุฏูุขุจ", "ุณููุงุณ", "ูพุฑุงูุดูุฑ", "ููุฏู", "ุชฺฉุงุจ", "ูุงฺฉู", "ุณุฑุฏุดุช", "ุดุงููโุฏฺ", "ุงุดููู", "ูุฑูโุถุงุกุงูุฏู", "ุดูุท", "ูพูุฏุดุช", "ุจุงุฒุฑฺฏุงู", "ฺุงูพุงุฑู", "ูุฑูุฑู", "ุชุงุฒู ุดูุฑ", "ูุงููุณ", "ูุงุฌุงู", "ฺฏูฺฏ ุชูพู", "ูุญูุฏุงุฑ", "ุฑุจุท", "ูุฑุขุจุงุฏ", "ฺฏุฑุฏฺฉุดุงูู", "ุณุฑู", "ุณููุงูู", "ฺฉุดุงูุฑุฒ", "ุฏุฒุฌ ุฏุฒ", "ููุดฺ", "ููุดู ุดูุฑ", "ุจุงุฑูู", "ุฎููู ูู"],
    "ุงุฑุฏุจู": ["ุงุฑุฏุจู", "ูพุงุฑุณโุขุจุงุฏ", "ูุดฺฏูโุดูุฑ", "ุฎูุฎุงู", "ฺฏุฑู", "ููู", "ูุฑ", "ุณุฑุนู", "ฺฉูุซุฑ", "ุจููโุณูุงุฑ", "ุงุตูุงูุฏูุฒ", "ูุดุฌู", "ฺฏู", "ูุฑ", "ูุงูุฑูุฏ", "ุฌุนูุฑุขุจุงุฏ", "ุงูฺฏูุช", "ฺฉูุฑุงู", "ุฑุถ", "ูุฎุฑุขุจุงุฏ", "ุขุจโุจฺฏูู", "ุนูุจุฑุงู", "ุงุณูุงูโุขุจุงุฏ", "ูุฑุงุฏูู", "ูุตุงุจู", "ุซูุฑู", "ุงุฑุงูโุขุจุงุฏ", "ุจุฑุงู", "ุดุงูุฑูุฏ", "ูุบุงู", "ุฑุถ", "ุชุงุฒู ฺฉูุฏ", "ุงููุงู", "ุซูุฑู", "ูุงูุฑูุฏ"],
    "ุงุตููุงู": ["ุงุตููุงู", "ฺฉุงุดุงู", "ุฎููโุดูุฑ", "ูุฌูโุขุจุงุฏ", "ุดุงููโุดูุฑ", "ุดูุฑุถุง", "ูููุงุฏุดูุฑ", "ูุจุงุฑฺฉู", "ุจูุงุฑุณุชุงู", "ุขุฑุงู ู ุจุฏฺฏู", "ฺฏููพุงฺฏุงู", "ุฒุฑูโุดูุฑ", "ุฏุฑฺู", "ููุงูุฑุฌุงู", "ุฏููุชโุขุจุงุฏ", "ูุงุฆู", "ุฎูุงูุณุงุฑ", "ุชุฑุงู", "ุงุฑุฏุณุชุงู", "ุณูุฑู", "ูุทูุฒ", "ุจุงุบ ุจูุงุฏุฑุงู", "ฺุงุฏฺฏุงู", "ูุฑุฒูู", "ูุฑูุฏ", "ฺฉูููพุงู", "ูพุฑุจฺฉุฑุงู", "ุงุจุฑุดู", "ฺฉูุดฺฉ", "ููุฏุฑุฌุงู", "ฺฉูุดุงุฏ", "ุจูู ูุงูุฏุดุช", "ูุฑุฏููโุดูุฑ", "ุฏูู", "ุนููุฌู"],
    "ุงูุจุฑุฒ": ["ฺฉุฑุฌ", "ูุฑุฏุณ", "ฺฉูุงูโุดูุฑ", "ูุธุฑุขุจุงุฏ", "ูุญูุฏุดูุฑ", "ูุงูุฏุดุช", "ูุดฺฉูโุฏุดุช", "ูุดุชฺฏุฑุฏ", "ฺูุงุฑุจุงุบ", "ุงุดุชูุงุฑุฏ", "ฺฏุฑูุฏุฑู", "ฺฏูุณุงุฑ", "ฺฉููุณุงุฑ", "ุชูฺฉูุงู", "ุทุงููุงู", "ุขุณุงุฑุง", "ฺฉุฑุฏุงู", "ูู", "ูุดูุฏ", "ุดููุฒุงุฑ", "ุฎูุฑ", "ุจุฑุบุงู", "ุงุบุดุช", "ฺูุงุฑฺฉ", "ุฒุนูุฑุงูู", "ุณููู", "ุฑุงูุฌู", "ุณููุฑุขุจุงุฏ", "ูุดฺฉุฑุขุจุงุฏ", "ููุฏโุขุจุงุฏ", "ููฺฉโุขุจุงุฏ", "ุณูุฑุงุจู", "ูุฒูโุญุตุงุฑ", "ุงุฎุชุฑุขุจุงุฏ"],
    "ุงูุงู": ["ุงูุงู", "ุฏููุฑุงู", "ุงูุงู", "ุขุจุฏุงูุงู", "ุฏุฑูโุดูุฑ", "ููุฑุงู", "ุณุฑุงุจูู", "ุงุฑฺฉูุงุฒ", "ุขุณูุงูโุขุจุงุฏ", "ฺูุงุฑ", "ุจุฏุฑู", "ุดุจุงุจ", "ูพููู", "ููุฑููุฑ", "ุฒุฑูู", "ูููุงุฑ", "ููุณุงู", "ููู", "ุตุงูุญโุขุจุงุฏ", "ุชูุญุฏ", "ุฏูฺฏุดุง", "ููุฑ", "ูุงฺู", "ุณุฑุงุจ ุจุงุบ", "ูููุงู", "ุจูุงูู", "ฺุดูู ุดุฑู", "ุฏุดุช ุนุจุงุณ", "ูฺฉู", "ููุฑ", "ุจุงูููุงู", "ููุช ฺุดูู", "ูพุงฺฉู", "ุฌุนูุฑุขุจุงุฏ", "ุดูู ฺฉุด"],
    "ุจูุดูุฑ": ["ุจูุดูุฑ", "ุจุฑุงุฒุฌุงู", "ฺฏูุงูู", "ฺฉูฺฏุงู", "ุฎูุฑููุฌ", "ุฌู", "ุฏูู", "ุฏุฑ", "ุนุณููู", "ุนุงูโุดูุฑ", "ุชูฺฏุณุชุงู", "ฺุบุงุฏฺฉ", "ุขุจโูพุฎุด", "ูุฎู ุชู", "ูุญุฏุชู", "ฺฉุงฺฉ", "ุณุนุฏุขุจุงุฏ", "ุดุจุงูฺฉุงุฑู", "ุจูุฏุฑ ุฑฺฏ", "ุฏุงูฺฉ", "ุจุฑุฏุณุชุงู", "ุขุจุฏุงู", "ุงูุฑู", "ุจูฺฉ", "ุณุฑุงู", "ุฏููุงุฑ", "ุจุงุฏููู", "ุฑุฒ", "ุงูุงุฑุณุชุงู", "ฺฉููู", "ุจูุดฺฉุงู", "ุดููุจู", "ุงูุงู ุญุณู", "ุฎุงุฑฺฉ", "ุฌุฒุฑู ูฺฏู"],
    "ุชูุฑุงู": ["ุชูุฑุงู", "ุฑ", "ุดูุฑุงุฑ", "ุงุณูุงูุดูุฑ", "ูุฑุงูู", "ูุฏุณ", "ููุงุฑุฏ", "ูพุงฺฉุฏุดุช", "ูุฑฺฺฉ", "ูพุดูุง", "ุฏูุงููุฏ", "ุฑุจุงุท ฺฉุฑู", "ูพุฑูุฏ", "ุจูููู", "ุฑูุฏูู", "ููุงุณุงู", "ุจุงูุฑุดูุฑ", "ฺฉูุฑุฒฺฉ", "ุดุฑู ุขุจุงุฏ", "ุญุณู ุขุจุงุฏ", "ูุดู", "ูุญุฏู", "ูุตุฑุดูุฑ", "ูุฑุฏูุณู", "ุตุจุงุดูุฑ", "ุขุจุณุฑุฏ", "ุฌูุงุฏุขุจุงุฏ", "ุงุฑุฌููุฏ", "ฺฉูุงู", "ุดูุฏุดุช", "ูุงูุฏุดุช", "ุงูุฏุดู", "ุจุงุบุณุชุงู", "ูุฑูุฒฺฉูู", "ุชุฌุฑุด", "ฺฉู"],
    "ฺูุงุฑูุญุงู ู ุจุฎุชุงุฑ": ["ุดูุฑฺฉุฑุฏ", "ุจุฑูุฌู", "ูุฑุฏฺฏุงู", "ูุงุฑุณุงู", "ููุดุฌุงู", "ูุฑุฎโุดูุฑ", "ุงุฑุฏู", "ฺฉุงุฑ", "ุจู", "ุณุงูุงู", "ุฌูููุงู", "ูุฑุงุฏูุจู", "ุจู", "ุณูุฑุดุฌุงู", "ุจูุฏุงุฌ", "ุจุงุจุงุญุฏุฑ", "ฺฏูุฏูุงู", "ูุงุบุงู", "ุดููุฒุงุฑ", "ฺฏูุฑู", "ฺฏูุฌุงู", "ุณูุฏุฏุดุช", "ุทุงูุงูฺฉ", "ูุฑุฏูุฌุงู", "ูููู", "ูพุฑุฏูุฌุงู", "ุฏุณุชูุง", "ฺูฺู", "ุณูุฏุฌุงู", "ูุงุฑูู", "ุขููู", "ููุฌ", "ุตูุตุงู", "ุจุงุฒูุช", "ฺูฺฏุฑุฏ"],
    "ุฎุฑุงุณุงู ุฌููุจ": ["ุจุฑุฌูุฏ", "ูุงุฆูุงุช", "ุทุจุณ", "ูุฑุฏูุณ", "ููุจูุฏุงู", "ุจุดุฑูู", "ุณุฑุงุงู", "ุณุฑุจุดู", "ุงุณูุงูู", "ุญุงุฌโุขุจุงุฏ", "ุฎุถุฑ", "ุงุณุฏู", "ููุจููฺฉ", "ุฏุฑูุงู", "ุฎูุณู", "ุขุฑูโุดูุฑ", "ููุฏ", "ุดูุณูู", "ุนุดูโุขุจุงุฏ", "ุงุณูุฏู", "ุขุณฺฉ", "ุณู ููุนู", "ุฏููฺฉ", "ุงุฑุณฺฉ", "ฺฏุฒฺฉ", "ููุณุชุงู", "ุทุจุณ ูุณูุง", "ุฒูุงู", "ุณุฏู", "ูุงฺุงู", "ุขุจฺฏุฑู", "ุฎูุฑ", "ุจูุฏ ุฏุฑู", "ุขุจุฏูุน", "ุงูฺฏูุฑ"],
    "ุฎุฑุงุณุงู ุฑุถู": ["ูุดูุฏ", "ูุดุงุจูุฑ", "ุณุจุฒูุงุฑ", "ุชุฑุจุช ุญุฏุฑู", "ููฺุงู", "ฺฉุงุดูุฑ", "ุชุงุจุงุฏ", "ฺูุงุฑุงู", "ุณุฑุฎุณ", "ฺฏูุงุจุงุฏ", "ูุฑูุงู", "ฺฏูุจูุงุฑ", "ุทุฑูุจู", "ุดุงูุฏุฒ", "ุฎูุงู", "ุจุฑุฏุณฺฉู", "ูุถ ุขุจุงุฏ", "ุจุฌุณุชุงู", "ฺฉุงุฑุฒ", "ุฑุดุชุฎูุงุฑ", "ุจุงุฎุฑุฒ", "ุฑุถูู", "ุจุงฺฏ", "ููุฏูุงุฑ", "ูุดูุฏ ุฑุฒู", "ููฺฉ ุขุจุงุฏ", "ุดุงุฏููุฑ", "ฺฉุฏฺฉู", "ุฏุงูุฑุฒู", "ุฎููโุขุจุงุฏ", "ุฌูู", "ุฌุบุชุง", "ุจุงุฑ", "ููุชโุขุจุงุฏ", "ุณูุงู"],
    "ุฎุฑุงุณุงู ุดูุงู": ["ุจุฌููุฑุฏ", "ุดุฑูุงู", "ุงุณูุฑุงู", "ุขุดุฎุงูู", "ุฌุงุฌุฑู", "ฺฏุฑูู", "ูุงุฑูุฌ", "ุฑุงุฒ", "ุฏุฑู", "ุงูุฑ", "ุญุตุงุฑ ฺฏุฑูุฎุงู", "ููุฌู", "ุชุชฺฉุงููู", "ูุงุถ", "ุดููุงู", "ุณูุฎูุงุณุช", "ูพุดโููุนู", "ุบูุงูุงู", "ฺฉูโุตุนูุฏ", "ุฎุงููู", "ุฒุงุฑุช", "ุจุฏฺฉ", "ุงุฑฺฉุงู", "ูพุฑุฏุณ", "ุจุงุจุง ุงูุงู", "ุจุดโูุงุฑุฏุงุด", "ุงุณุฏู", "ุจุฏุฑุงููู", "ุฑูู", "ููุนู ุฎุงู", "ฺูุงุฑุงู ุดูุฑ", "ฺูุฑุฒู", "ูฺฏู ููุนู", "ุตูโุขุจุงุฏ"],
    "ุฎูุฒุณุชุงู": ["ุงููุงุฒ", "ุฏุฒููู", "ุขุจุงุฏุงู", "ุฎุฑูุดูุฑ", "ูุงูุดูุฑ", "ุงูุฏูุดฺฉ", "ุงุฐู", "ุจูุจูุงู", "ุดูุดุชุฑ", "ุดูุด", "ูุณุฌุฏุณููุงู", "ุงูุฏู", "ุจุงุบโููฺฉ", "ุดุงุฏฺฏุงู", "ุฑุงููุฑูุฒ", "ฺฏุชููุฏ", "ุณูุณูฺฏุฑุฏ", "ููุฏุฌุงู", "ุฑุงูุดุฑ", "ุญูุฏู", "ูุงู", "ููุฒู", "ููุงุซุงู", "ููุชฺฉู", "ูุณ", "ุขุบุงุฌุงุฑ", "ููุนู ุชู", "ุตุงูุญ ุดูุฑ", "ุงุฑููุฏฺฉูุงุฑ", "ุดุงููุฑ", "ูุงูุฑูุฏ", "ุชุฑฺฉุงูฺฉ", "ฺูุฆุจุฏู", "ุจุณุชุงู", "ุขุจฺุฏุงู"],
    "ุฒูุฌุงู": ["ุฒูุฌุงู", "ุงุจูุฑ", "ุฎุฑูุฏุฑู", "ูุฏุงุฑ", "ูุฏุฌ", "ุตุงูโููุนู", "ุขุจโุจุฑ", "ุณูุทุงูู", "ุณุฌุงุณ", "ุณูุฑูุฑุฏ", "ุฒุฑูโุฑูุฏ", "ฺฏุฑูุงุจ", "ุฏูุฏ", "ูุงููุดุงู", "ฺูุฑุฒู", "ุงุฑูุบุงูโุฎุงูู", "ฺฉุฑุณู", "ููุฑุจูุงุฑ", "ูฺฉโูพ", "ุญูุจ", "ุฒุฑูโุขุจุงุฏ", "ุณูุฑู", "ูพุงูพุง", "ูุฑู ูพุดุชูู", "ุฎุฏุงุจูุฏู", "ุงูุดุงุฑ", "ุจุฒููโุฑูุฏ", "ูุฑูโุจูุงุบ", "ูพุฑูุฑุฒุจุงู", "ุดุช", "ููุฏุฑ", "ูุฑ", "ุฏู ุฌูุงู", "ฺฏุงูุงุฒูฺฏ", "ูพุงุง"],
    "ุณููุงู": ["ุณููุงู", "ุดุงูุฑูุฏ", "ุฏุงูุบุงู", "ฺฏุฑูุณุงุฑ", "ููุฏโุดูุฑ", "ุงูุงูฺฉ", "ุดููุฑุฒุงุฏ", "ุณุฑุฎู", "ุจุณุทุงู", "ุขุฑุงุฏุงู", "ูุฌู", "ฺฉุงููพูุด", "ูุงู", "ุจุงุฑุฌููุฏ", "ุฏุฑุฌุฒู", "ุฑูุฏุงู", "ุงูุฑู", "ุฏุจุงุฌ", "ฺฉูุงุชู ุฑูุฏุจุงุฑ", "ฺฉููโุขุจุงุฏ", "ูุงูู", "ูุฑุฏู", "ุญุณูโุขุจุงุฏ", "ุฏุงูุฑุฒู", "ูุฑููุฏ", "ุชูุฑุงู", "ุฎุงุฑ ุชูุฑุงู", "ุขููุงู", "ูุงุณุฌุฑุฏ", "ุฏู ููฺฉ", "ูพุงุงูู", "ุฌูุฏู", "ุฑโุขุจุงุฏ", "ุจฺฉุฑุงู", "ฺฉูุงุชู ุฎุฌ"],
    "ุณุณุชุงู ู ุจููฺุณุชุงู": ["ุฒุงูุฏุงู", "ุฒุงุจู", "ุงุฑุงูุดูุฑ", "ฺุงุจูุงุฑ", "ุณุฑุงูุงู", "ุฎุงุด", "ฺฉูุงุฑฺฉ", "ูฺฉโุดูุฑ", "ูพุดู", "ุณูุฑุงู", "ุฒูฺฉ", "ูููุฌ", "ูุตุฑููุฏ", "ุจููพูุฑ", "ฺฏูููุฑุช", "ุฑุงุณฺฉ", "ูุฑุฌุงูู", "ุฏูุณุชโูุญูุฏ", "ุงุฏู", "ูุญูุฏุขุจุงุฏ", "ุจูุฌุงุฑ", "ููฺฉโุขุจุงุฏ", "ุฌุงูู", "ูุฏูฺ", "ุณุฑฺฉุงู", "ุจูุช", "ุงุณูพฺฉู", "ุณุฑุจุงุฒ", "ุขุดุงุฑ", "ูุฑูุฑ", "ุนูโุงฺฉุจุฑ", "ูุตุฑุชโุขุจุงุฏ", "ุจุฒูุงู", "ูุฑููุฏ", "ุฒุฑุขุจุงุฏ"],
    "ูุงุฑุณ": ["ุดุฑุงุฒ", "ูุฑูุฏุดุช", "ุฌูุฑู", "ูุณุง", "ฺฉุงุฒุฑูู", "ุตุฏุฑุง", "ุฏุงุฑุงุจ", "ูุฑูุฒุขุจุงุฏ", "ูุงุฑ", "ุขุจุงุฏู", "ููุฑุขุจุงุฏ", "ูโุฑุฒ", "ุงููุฏ", "ุงุณุชูุจุงู", "ฺฏุฑุงุด", "ุฒุฑูุงู", "ฺฉูุงุฑ", "ูุงูุฑุฏ", "ุตูุงุดูุฑ", "ูุงุฆูู", "ุญุงุฌโุขุจุงุฏ", "ูุฑุงุดุจูุฏ", "ูุฑ", "ุงูุฒ", "ุฎูุฌ", "ุฎุฑุงูู", "ุณุฑูุณุชุงู", "ุณุนุงุฏุชโุดูุฑ", "ุจูุงูุงุช", "ุงุดฺฉูุงู", "ุงุฑุฏฺฉุงู", "ูุตุฑ", "ุจุถุง", "ุจุงูุงุฏู", "ุณุฏุงู"],
    "ูุฒูู": ["ูุฒูู", "ุงูููุฏ", "ุชุงฺฉุณุชุงู", "ุขุจฺฉ", "ุงูุจุงูู", "ูุญูุฏู", "ุจุฏุณุชุงู", "ูุญููุฏุขุจุงุฏ ููููู", "ุดุฑูู", "ุจูุฆูโุฒูุฑุง", "ุดุงู", "ุงุณูุฑูุฑู", "ุถุงุกุขุจุงุฏ", "ุฎุฑูุฏุดุช", "ูุฑุฌู", "ุณฺฏุฒุขุจุงุฏ", "ุฏุงูุณููุงู", "ุงุฑุฏุงู", "ุขูุฌ", "ุขุจฺฏุฑู", "ูุนููโฺฉูุงู", "ุฑุงุฒูุงู", "ฺฉููู", "ุณุฑุฏุงู", "ุฑุฌุง ุฏุดุช", "ูฺฉูุฆู", "ุฎุงฺฉุนู", "ุขู ุจุงุจุง", "ูุงุตุฑุขุจุงุฏ", "ฺฉููุฏุฌ", "ุจุดุฑ", "ุฌูุดุฏ ุขุจุงุฏ", "ฺฉฺฉุงู", "ุณุงููพูุด", "ุญุตุงุฑ"],
    "ูู": ["ูู", "ูููุงุช", "ุฌุนูุฑู", "ฺฉูฺฉ", "ุฏุณุชุฌุฑุฏ", "ุณููฺฺฏุงู", "ุดฺฉููู", "ุฌูฺฉุฑุงู", "ูพุฑุฏุณุงู", "ูุงูุฌู", "ุฎูุฑุขุจุงุฏ", "ููฺฉ", "ุทุงูุงู", "ููุนูโฺู", "ููููู", "ุณุงุฑู", "ูุฑุฏู", "ูุดุงุฑู", "ุณุฑู", "ูู", "ุงูุงูุฒุงุฏู ุงุณูุงุนู", "ูุฑุฌุงู", "ุณูฺฏ", "ูุงูุงู", "ุจุฏููุฏ", "ฺฉุฑูุฌฺฏุงู", "ุตุฑู", "ุชุงุฌโุฎุงุชูู", "ุนูโุขุจุงุฏ", "ููุจุฑุขุจุงุฏ", "ุฌูุชโุขุจุงุฏ", "ุดุฑูโุขุจุงุฏ", "ุญุณูโุขุจุงุฏ", "ูุจุงุฑฺฉโุขุจุงุฏ", "ุณุฑุงุฌู"],
    "ฺฉุฑุฏุณุชุงู": ["ุณููุฏุฌ", "ุณูุฒ", "ูุฑูุงู", "ุจุงูู", "ูุฑูู", "ฺฉุงูุงุฑุงู", "ุจุฌุงุฑ", "ุฏูุงูุฏุฑู", "ุฏูฺฏูุงู", "ุณุฑูุขุจุงุฏ", "ฺฉุงูโุฏูุงุฑ", "ุณุฑุดโุขุจุงุฏ", "ุฏูุจุฑุงู", "ุงุณูฺฉูุฏ", "ููฺุด", "ุจูุจุงูโุขุจุงุฏ", "ุงูุฑุงูุงู ุชุฎุช", "ุตุงุญุจ", "ุขุฑูุฑุฏู", "ุฏุฒุฌ", "ุฒุฑูู", "ฺฉุงูโุณูุฑ", "ุจูู ุณูู", "ฺูุงุฑู", "ุดูุดู", "ุญุณูโุขุจุงุฏ", "ุจุฑุฏู ุฑุดู", "ูพุฑุชุงุฌ", "ุชููพ ุขุบุงุฌ", "ูุฌู ุขุจุงุฏ", "ููููู", "ุตููุงุช ุขุจุงุฏ", "ฺฏุฑุฏูุฑุงู", "ุขุฑูุฏุงู", "ฺฉุงููุด"],
    "ฺฉุฑูุงู": ["ฺฉุฑูุงู", "ุณุฑุฌุงู", "ุฑูุณูุฌุงู", "ุฌุฑูุช", "ุจู", "ุฒุฑูุฏ", "ฺฉูููุฌ", "ุดูุฑุจุงุจฺฉ", "ุจุงูู", "ุจุฑุฏุณุฑ", "ุฑุงูุฑ", "ุนูุจุฑุขุจุงุฏ", "ูููุฌุงู", "ููุนูโฺฏูุฌ", "ุฑูุฏุจุงุฑ ุฌููุจ", "ููุฑุฌ", "ุฑฺฏุงู", "ูุฑูุงุดุฑ", "ฺฉููุจูุงู", "ุงูุงุฑ", "ุฑุงุจุฑ", "ุงุฑุฒูุฆู", "ูุงุฑุงุจ", "ุฑุงู", "ูุงูุงู", "ฺฏูุจุงู", "ุดูุฏุงุฏ", "ุงูุฏููุฌุฑุฏ", "ุฌููพุงุฑ", "ฺฉุงุธูโุขุจุงุฏ", "ูุญโุขุจุงุฏ", "ุจุงุบู", "ุฒูฺฏโุขุจุงุฏ", "ุงุฎุชุงุฑุขุจุงุฏ", "ููุงุดูุฑ", "ูฺฏุงุฑ"],
    "ฺฉุฑูุงูุดุงู": ["ฺฉุฑูุงูุดุงู", "ุงุณูุงูโุขุจุงุฏ ุบุฑุจ", "ุฌูุงูุฑูุฏ", "ฺฉูฺฏุงูุฑ", "ุณุฑูพู ุฐูุงุจ", "ุณููุฑ", "ูุฑุณู", "ุตุญูู", "ูพุงูู", "ุฑูุงูุณุฑ", "ฺฏูุงูุบุฑุจ", "ูุตุฑุดุฑู", "ุชุงุฒู ุขุจุงุฏ", "ฺฉุฑูุฏ ุบุฑุจ", "ุจุณุชูู", "ฺฏููุงุฑู", "ฺฉูุฒุฑุงู", "ููุณูุฏ", "ุญูู", "ููุด", "ุฑุจุงุท", "ุดุงูู", "ุจุงููโูุฑู", "ุงุฒฺฏูู", "ููุฏุดู", "ุจุงูฺฏุงู", "ุณููุงุฑ", "ููุช ุดูุฑ", "ฺฏูุฏู", "ุณุฑูุณุช", "ูุงูโุฑุงูุงู", "ุณุทุฑ", "ููุด", "ูุงูุฏุดุช", "ุดุฑููู"],
    "ฺฉูฺฏููู ู ุจูุฑุงุญูุฏ": ["ุงุณูุฌ", "ุฏูฺฏูุจุฏุงู", "ุฏูุฏุดุช", "ูฺฉฺฉ", "ูุงุฏูุงู", "ุณโุณุฎุช", "ฺุฑุงู", "ุจุงุดุช", "ููุฏู", "ูุงุฑฺฏูู", "ูพุงุชุงูู", "ููุนู ุฑุฆุณ", "ุฏุดููฺฉ", "ุณูู", "ฺุชุงุจ", "ฺฏุฑุงุจ ุณูู", "ุณุฑูุงุฑุงุจ", "ุจูุณุชุงู", "ููุจ", "ุณุฑุขุณุงุจ", "ุฏูู", "ููุฏุงุจ", "ุชููฺฉ", "ฺฉุงฺฉุงู", "ูุฒฺฏ", "ูุฎุชุงุฑ", "ุฏููู", "ุฏุดุช ุฑูู", "ููฺฏุงู", "ุฑุงฺฉ", "ุณุงุฏุงุช ุนุจุงุณ", "ุณูพุฏุงุฑ", "ุฌูู", "ุจุงุจฺฉุงู", "ุฒูุง"],
    "ฺฏูุณุชุงู": ["ฺฏุฑฺฏุงู", "ฺฏูุจุฏ ฺฉุงููุณ", "ุจูุฏุฑ ุชุฑฺฉูู", "ุนูโุขุจุงุฏ ฺฉุชูู", "ุขุฒุงุฏุดูุฑ", "ฺฉุฑุฏฺฉู", "ฺฉูุงูู", "ุขูโููุง", "ูููุฏุดุช", "ฺฏุงูฺฉุด", "ุจูุฏุฑ ฺฏุฒ", "ฺฏูุดุงู", "ุฑุงูุงู", "ุฎุงูโุจุจู", "ูุงุถูโุขุจุงุฏ", "ุณุฑุฎูฺฉูู", "ุฏููุฏ", "ุงูุจุงุฑ ุขููู", "ุฌูู", "ููฺฉูุฏู", "ุณููโุดูุฑ", "ุงูฺูโุจุฑูู", "ุชุงุชุงุฑ ุนูุง", "ุณูฺฏุฏูู", "ูุฒุฑุนู", "ูุฑุงุบ", "ฺฏูุฏุงุบ", "ุฏูุฒู", "ุตุงุฏูโุขุจุงุฏ", "ฺฉุฑูุฏ", "ููุชู", "ุฏุงุดู ุจุฑูู", "ูุฑู", "ุชู ุขุจุงุฏ"],
    "ฺฏูุงู": ["ุฑุดุช", "ุจูุฏุฑ ุงูุฒู", "ูุงูุฌุงู", "ููฺฏุฑูุฏ", "ูุดุชูพุฑ", "ุขุณุชุงุฑุง", "ุตููุนูโุณุฑุง", "ุฑูุฏุณุฑ", "ุฑุถูุงูุดูุฑ", "ูููู", "ูุงุณุงู", "ุดูุช", "ุณุงูฺฉู", "ุงููุด", "ุขุณุชุงูู ุงุดุฑูู", "ฺฉุงุดูุฑ", "ููุฌู", "ุฑูุฏุจุงุฑ", "ููุดุงู", "ุฑุณุชูโุขุจุงุฏ", "ุฎุดฺฉุจุฌุงุฑ", "ุฎูุงู", "ฺฉูฺุตููุงู", "ูุดุช ูุดุง", "ุณูฺฏุฑ", "ูุงุฌุงุฑฺฏุงู", "ฺฉูุงฺุง", "ฺุงุจฺฉุณุฑ", "ฺฉูููู", "ุดููุงู", "ูุงุณููู", "ุฏููุงู", "ุจุฑูโุณุฑ"],
    "ูุฑุณุชุงู": ["ุฎุฑูโุขุจุงุฏ", "ุจุฑูุฌุฑุฏ", "ุฏูุฑูุฏ", "ฺฉููุฏุดุช", "ุฏููุงู", "ุงูฺฏูุฏุฑุฒ", "ุงูุดุชุฑ", "ูพูุฏุฎุชุฑ", "ุงุฒูุง", "ููุฑุขุจุงุฏ", "ุณุฑุงุจ ุฏูุฑู", "ฺฉูููุงู", "ุงุดุชุฑูุงู", "ุฒุงุบู", "ฺุบูููุฏ", "ฺฏุฑุงุจ", "ูุณุงู", "ุณูพุฏุฏุดุช", "ุฏุฑุจ ฺฏูุจุฏ", "ุดููโุขุจุงุฏ", "ูุฑูุฒุขุจุงุฏ", "ููุชโฺุดูู", "ููููโุขุจุงุฏ", "ุจุฑุฎูุฑุฏุงุฑ", "ฺููโุณูุทุงู", "ุชุงู", "ุณูุงุฎูุฑ", "ูุงุณูุฑ", "ุจุฏุฑุขุจุงุฏ", "ฺฉูุงูููุฏ", "ุณุฑุงุจ ููููุฑ", "ุฑุจุงุท", "ุชูฺฏ ููุช", "ฺู ูพูฺฉ", "ุจุฑุงูโุดูุฑ"],
    "ูุงุฒูุฏุฑุงู": ["ุณุงุฑ", "ุจุงุจู", "ุขูู", "ูุงุฆูโุดูุฑ", "ุจูุดูุฑ", "ฺุงููุณ", "ููุดูุฑ", "ุชูฺฉุงุจู", "ุฑุงูุณุฑ", "ุจุงุจูุณุฑ", "ููุฑ", "ูุญููุฏุขุจุงุฏ", "ูุฑุฏููฺฉูุงุฑ", "ุฌูุจุงุฑ", "ูฺฉุง", "ฺฏููฺฏุงู", "ุนุจุงุณโุขุจุงุฏ", "ุณููุงูโุดูุฑ", "ฺฉูุงุฑุฏุดุช", "ุงูุฑฺฉูุง", "ฺฉููโุฎู", "ูพุงูโูููุงุฑ", "ฺฉุงุณุฑ", "ูพู ุณูุฏ", "ุฒุฑุขุจ", "ุดุฑฺฏุงู", "ุขูุงุดุช", "ุฑูู", "ฺฏุฒูฺฉ", "ูุฑุฒูโุขุจุงุฏ", "ูฺุฑูุฏ", "ุฎุฑูโุขุจุงุฏ", "ฺฉุชุงูู", "ุณุงุฏุงุชโุดูุฑ"],
    "ูุฑฺฉุฒ": ["ุงุฑุงฺฉ", "ุณุงูู", "ุฎูู", "ูุญูุงุช", "ุฏูุฌุงู", "ุดุงุฒูุฏ", "ูุฃูููู", "ุชูุฑุด", "ฺฉูุฌุงู", "ุขุดุชุงู", "ุฎูุฏุงุจ", "ูุฑููู", "ุฒุงูู", "ููโูุฑ", "ูุฑุงู", "ููุงุฌุฑุงู", "ุชูุฑู", "ุขุณุชุงูู", "ูพุฑูุฏฺฉ", "ุฑุงุฒูุงู", "ุฎุดฺฉุฑูุฏ", "ููุฏูุฏุฑ", "ุฏุงูุฏุขุจุงุฏ", "ฺฉุงุฑฺุงู", "ุณุงุฑูู", "ุชูุฎุงุจ", "ุฎูุฌู", "ููุงุฌุฑุฏ", "ุฌุงูุฑุณุงู", "ููุฑฺโุจุงุด", "ุดูุจุงุฒ", "ููุจุฑุงู", "ุบุฑูโุขุจุงุฏ", "ุงุจฺฉ ุขุจุงุฏ", "ุงูุงู ุขุจุงุฏ"],
    "ูุฑูุฒฺฏุงู": ["ุจูุฏุฑุนุจุงุณ", "ููุงุจ", "ุฏูุจุงุฑุฒ", "ูุดู", "ฺฉุด", "ุญุงุฌโุขุจุงุฏ", "ุจูุฏุฑ ููฺฏู", "ุจุณุชฺฉ", "ูพุงุฑุณุงู", "ุฌุงุณฺฉ", "ุฑูุฏุงู", "ุจูุฏุฑ ุฎูุฑ", "ุณุฑฺฉ", "ุจุดุงฺฏุฑุฏ", "ุงุจูููุณ", "ูุฑูุฒ", "ูู", "ฺฉูฺฏ", "ุฏุฑฺฏูุงู", "ุจูุฏุฑ ฺุงุฑฺฉ", "ุฌูุงุญ", "ุฑูุฏุฑ", "ุจฺฉุงู", "ูุดุชุจูุฏ", "ุชุฑูุฑ", "ฺฏุฑูฺฉ", "ฺฉููุณุชฺฉ", "ุฏุดุช", "ฺฉูุดฺฉูุงุฑ", "ููุฒุงู", "ฺฏููุฑุงู", "ุณุฑุฏุดุช", "ุณูุฒุง", "ููุนู ูุงุถ"],
    "ููุฏุงู": ["ููุฏุงู", "ููุงุฑ", "ููุงููุฏ", "ุชูุณุฑฺฉุงู", "ุงุณุฏุขุจุงุฏ", "ฺฉุจูุฏุฑุขููฺฏ", "ุจูุงุฑ", "ุฑุฒู", "ูุงููู", "ูุฑุงูุฌ", "ุงุฒูุฏุฑุงู", "ูุงูุฌู", "ุฌูุฑูุงู", "ุตุงูุญโุขุจุงุฏ", "ูุงููู", "ูุฑูู ุฏุฑุฌุฒู", "ุฏูู", "ฺฏุงู", "ุจุฑุฒูู", "ูุฑูุฒุงู", "ุณุงูู", "ุฌูฺฉุงุฑ", "ุฒูฺฏูู", "ูุฑุณูุฌ", "ุดุฑูโุณู", "ฺฏูโุชูพู", "ุณุฑฺฉุงู", "ุขุฌู", "ูพุงูุฒ", "ููุงุฌุฑุงู", "ฺฉุฑูุณ", "ุณูุฑุชุฌู", "ูฺฏุฌู", "ูุงู", "ููุงููุฏ"],
    "ุฒุฏ": ["ุฒุฏ", "ูุจุฏ", "ุงุฑุฏฺฉุงู", "ุจุงูู", "ููุฑุฒ", "ุงุจุฑฺฉูู", "ุชูุช", "ุงุดฺฉุฐุฑ", "ูุฑุงุช", "ูุฑูุณุช", "ุจูุงุจุงุฏ", "ุฒุงุฑฺ", "ุดุงูุฏู", "ุญูุฏุง", "ุนูุฏุง", "ุงุญูุฏุขุจุงุฏ", "ุจูุฑูุฆู", "ูุฏูุดู", "ุฎุถุฑุขุจุงุฏ", "ูุฑ", "ุจุฎ", "ฺฏุงุฑุฒุงุช", "ููุฑุขุจุงุฏ", "ุฏูุดุฑ", "ุฑุจุงุท ูพุดุช ุจุงุฏุงู", "ุณุงุบูุฏ", "ฺููพุงูุงู", "ุงูููโุขุจุงุฏ", "ูุญูุฏุขุจุงุฏ", "ฺุฑุฎุงุจ", "ุฎุงุชู", "ุทุฒุฑุฌุงู", "ุฏู ุจุงูุง", "ููุดุงุฏ"]
};

const API_KEY = 'bf8755006c2fc6e2762533c174860bf6';

// ููุทู ูุฑูุฏ ู ุฎุฑูุฌ
function login() {
    const n = document.getElementById('fname').value.trim();
    if(n.length < 2) return;
    localStorage.setItem('currentUser', n);
    location.reload();
}
function logout() {
    localStorage.removeItem('currentUser');
    location.reload();
}

window.onload = () => {
    const user = localStorage.getItem('currentUser');
    if(user) {
        document.getElementById('login-screen').style.display='none';
        document.getElementById('app').style.display='block';
        document.getElementById('h-ui').style.display='flex';
        document.getElementById('user-display').innerText = user;
        loadProvinces();
        renderComments();
    }
};

// ูุฏุฑุช ูุธุฑุงุช (ุงุตูุงุญ ุดุฏู ุจุฑ ุงุณุงุณ ID ููุญุตุฑุจูโูุฑุฏ)
function addComment() {
    const t = document.getElementById('c-input').value.trim();
    const u = localStorage.getItem('currentUser');
    if(!t) return;

    const list = JSON.parse(localStorage.getItem('weather_feed') || '[]');
    list.unshift({
        id: "C-" + Date.now(),
        user: u,
        text: t,
        time: new Date().toLocaleTimeString('fa-IR', {hour:'2-digit', minute:'2-digit'})
    });
    localStorage.setItem('weather_feed', JSON.stringify(list.slice(0, 30)));
    document.getElementById('c-input').value = '';
    renderComments();
}

function deleteComment(id) {
    let list = JSON.parse(localStorage.getItem('weather_feed') || '[]');
    list = list.filter(item => item.id !== id);
    localStorage.setItem('weather_feed', JSON.stringify(list));
    renderComments();
}

function renderComments() {
    const current = localStorage.getItem('currentUser');
    const list = JSON.parse(localStorage.getItem('weather_feed') || '[]');
    document.getElementById('c-list').innerHTML = list.map(i => `
        <div class="comment-item">
            ${i.user === current ? `<button class="del-btn" onclick="deleteComment('${i.id}')"><i class="fa fa-trash"></i></button>` : ''}
            <b>${i.user}:</b> ${i.text}
            <small style="display:block; opacity:0.5; font-size:0.6rem; margin-top:5px">${i.time}</small>
        </div>
    `).join('');
}

// ุชูุงุจุน ููุงุดูุงุณ
function loadProvinces() {
    const s = document.getElementById('prov-select');
    s.innerHTML = '<option value="">ุงูุชุฎุงุจ ุงุณุชุงู...</option>' + 
        Object.keys(DB).sort().map(p => `<option value="${p}">${p}</option>`).join('');
}

function loadCities() {
    const p = document.getElementById('prov-select').value;
    const s = document.getElementById('city-select');
    if(!p) return;
    s.innerHTML = DB[p].sort().map(c => `<option value="${c}">${c}</option>`).join('');
    getWeather();
}

async function getWeather(manual) {
    const city = manual || document.getElementById('city-select').value;
    if(!city || city.includes('ุงูุชุฎุงุจ')) return;
    try {
        const res = await fetch(`https://api.openweathermap.org/data/2.5/weather?q=${city}&appid=${API_KEY}&units=metric&lang=fa`);
        const data = await res.json();
        document.getElementById('result').style.display = 'block';
        document.getElementById('res-city').innerText = city;
        document.getElementById('res-temp').innerText = Math.round(data.main.temp) + 'ยฐ';
        document.getElementById('res-desc').innerText = data.weather[0].description;
        document.getElementById('res-icon').innerHTML = `<img src="https://openweathermap.org/img/wn/${data.weather[0].icon}@2x.png">`;
        getForecast(city);
    } catch(e) {}
}

async function getForecast(city) {
    const res = await fetch(`https://api.openweathermap.org/data/2.5/forecast?q=${city}&appid=${API_KEY}&units=metric&lang=fa`);
    const data = await res.json();
    const daily = data.list.filter((_,i) => i % 8 === 0);
    document.getElementById('forecast').innerHTML = daily.map(d => `
        <div class="f-item">
            <div style="font-size:0.7rem">${new Date(d.dt*1000).toLocaleDateString('fa-IR',{weekday:'short'})}</div>
            <img src="https://openweathermap.org/img/wn/${d.weather[0].icon}.png" style="width:35px">
            <div style="font-weight:bold">${Math.round(d.main.temp)}ยฐ</div>
        </div>
    `).join('');
}

function quickSearch() {
    const v = document.getElementById('search-box').value.trim();
    if(v.length < 2) return;
    for(let p in DB) {
        const f = DB[p].find(c => c === v || c.startsWith(v));
        if(f) { getWeather(f); break; }
    }
}

setInterval(() => {
    document.getElementById('clock').innerText = new Date().toLocaleTimeString('fa-IR');
}, 1000);
</script>
</body>
</html>
