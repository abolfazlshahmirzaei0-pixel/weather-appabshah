<!DOCTYPE html>
<html lang="fa">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>هواشناسی ایران</title>
<link href="https://fonts.googleapis.com/css2?family=Vazirmatn:wght@400;700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<style>
body {
    font-family: 'Vazirmatn', sans-serif;
    direction: rtl;
    background: linear-gradient(to bottom, #f0f4f7, #ffffff);
    margin: 0;
    padding: 0;
    color: #333;
    line-height: 1.6;
}
header {
    text-align: center;
    padding: 40px 20px;
    background: linear-gradient(135deg, #00838f, #00bfa5);
    color: white;
    box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
    position: relative;
    overflow: hidden;
}
header h1 {
    margin: 0;
    font-size: 2.8em;
    font-weight: 700;
}
header p {
    margin: 10px 0 0;
    font-size: 1.1em;
    font-weight: 400;
}
header::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: url('https://www.transparenttextures.com/patterns/connected-dots.png');
    opacity: 0.1;
}
.container {
    max-width: 960px;
    margin: 30px auto;
    padding: 20px;
}
.card {
    background: #ffffff;
    border-radius: 20px;
    padding: 30px;
    box-shadow: 0 8px 24px rgba(0, 0, 0, 0.1);
    margin-bottom: 30px;
}
.selectors-section {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 20px;
    margin-bottom: 30px;
}
.selector-group {
    display: flex;
    align-items: center;
    gap: 15px;
}
select {
    padding: 12px 20px;
    font-size: 16px;
    border: 1px solid #ddd;
    border-radius: 10px;
    min-width: 200px;
    background-color: #f9f9f9;
    transition: all 0.3s ease;
    cursor: pointer;
}
select:hover {
    border-color: #00bfa5;
    box-shadow: 0 0 8px rgba(0, 191, 165, 0.2);
}
select:focus {
    outline: none;
    border-color: #00838f;
    box-shadow: 0 0 8px rgba(0, 131, 143, 0.3);
}
#weather-info {
    text-align: center;
}
h2 {
    font-size: 2em;
    color: #00796b;
    border-bottom: 2px solid #e0f2f1;
    padding-bottom: 10px;
    margin-bottom: 20px;
    display: inline-block;
}
.weather-data-card {
    background: linear-gradient(145deg, #e0f7fa, #ffffff);
    padding: 30px;
    border-radius: 20px;
    display: inline-block;
    min-width: 380px;
    box-shadow: 0 6px 18px rgba(0, 0, 0, 0.1);
    text-align: center;
    margin-top: 20px;
    animation: fadeIn 1s ease-in-out;
}
@keyframes fadeIn {
    from { opacity: 0; transform: translateY(20px); }
    to { opacity: 1; transform: translateY(0); }
}
.weather-icon {
    width: 100px;
    height: 100px;
    border-radius: 50%;
    background: #fff;
    display: flex;
    justify-content: center;
    align-items: center;
    margin: 0 auto 15px;
    box-shadow: inset 0 3px 8px rgba(0, 0, 0, 0.1);
}
.weather-data-card p {
    margin: 10px 0;
}
.weather-data-card strong {
    color: #00796b;
}
#forecast {
    display: flex;
    justify-content: center;
    flex-wrap: wrap;
    gap: 20px;
    margin-top: 30px;
}
.forecast-card {
    background: linear-gradient(145deg, #fdfdfd, #f0f4f7);
    padding: 20px;
    border-radius: 16px;
    width: 180px;
    text-align: center;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.08);
    transition: transform 0.3s ease, box-shadow 0.3s ease;
}
.forecast-card:hover {
    transform: translateY(-6px);
    box-shadow: 0 6px 12px rgba(0, 0, 0, 0.12);
}
.forecast-card .weather-icon {
    width: 70px;
    height: 70px;
}
.forecast-card p {
    font-size: 0.9em;
    margin: 5px 0;
}
#feedback-section {
    background-color: #fffde7;
    padding: 30px;
    border-radius: 16px;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}
#feedback-form .form-group {
    margin-bottom: 15px;
}
#feedback-form label {
    display: block;
    margin-bottom: 8px;
    font-weight: bold;
    color: #004d40;
}
#feedback-form input, #feedback-form textarea {
    width: 100%;
    padding: 12px;
    border: 1px solid #ddd;
    border-radius: 10px;
    background-color: #f9f9f9;
    transition: border-color 0.3s;
}
#feedback-form input:focus, #feedback-form textarea:focus {
    outline: none;
    border-color: #00796b;
}
#feedback-form button {
    background-color: #00796b;
    color: white;
    border: none;
    padding: 14px 24px;
    border-radius: 10px;
    cursor: pointer;
    font-size: 1.1em;
    transition: all 0.3s;
}
#feedback-form button:hover {
    background-color: #004d40;
}
#comments-list {
    list-style: none;
    padding: 0;
    margin-top: 25px;
}
#comments-list li {
    background-color: #fff;
    padding: 18px;
    border-radius: 10px;
    margin-bottom: 15px;
    border-right: 5px solid #009688;
    box-shadow: 0 2px 8px rgba(0,0,0,0.05);
}
.temp-color { color: #d32f2f; }
.humidity-color { color: #0277bd; }
.wind-color { color: #558b2f; }
.pop-color { color: #03a9f4; }
.current-city-name { color: #00796b; font-weight: 700; }
footer {
    text-align: center;
    padding: 20px;
    background-color: #cfd8dc;
    color: #555;
    font-size: 14px;
    box-shadow: inset 0 1px 0 rgba(0, 0, 0, 0.1);
}
</style>
</head>
<body>
<header>
    <h1>هواشناسی ایران 🇮🇷</h1>
    <p id="live-time">در حال بارگذاری زمان...</p>
</header>
<main class="container">
    <section class="card selectors-section">
        <div class="selector-group">
            <label for="province-select">استان:</label>
            <select id="province-select"><option value="">استان را انتخاب کنید</option></select>
        </div>
        <div class="selector-group">
            <label for="city-select">شهر:</label>
            <select id="city-select"><option value="">شهر را انتخاب کنید</option></select>
        </div>
    </section>
    <section id="weather-info">
        <div id="current-weather" class="card">
            <h2><span id="current-city-title">وضعیت فعلی</span></h2>
            <div class="weather-data-card" id="current-data">
                <p>لطفاً یک شهر را انتخاب کنید.</p>
            </div>
        </div>
        <div id="forecast-section" class="card">
            <h2>پیش‌بینی ۵ روزه</h2>
            <div id="forecast"></div>
        </div>
    </section>
    <section id="feedback-section" class="card">
        <h2>فرم نظرات</h2>
        <form id="feedback-form">
            <div class="form-group">
                <label for="feedback-name">نام:</label>
                <input type="text" id="feedback-name" required>
            </div>
            <div class="form-group">
                <label for="feedback-comment">نظر:</label>
                <textarea id="feedback-comment" rows="4" required></textarea>
            </div>
            <button type="submit">ثبت نظر</button>
        </form>
        <h3>نظرات ثبت‌شده</h3>
        <ul id="comments-list"></ul>
    </section>
</main>
<footer>
    <p>ساخته شده توسط ابوالفضل شاهمیرزایی ❤️</p>
    <p>&copy; ۱۴۰۴</p>
    <p>سایت از API <a href="https://openweathermap.org/" target="_blank">OpenWeatherMap</a> استفاده می‌کند</p>
</footer>
<script>
const API_KEY = 'bf8755006c2fc6e2762533c174860bf6';
const provinces = {
    "آذربایجان شرقی": ["تبریز","مراغه","مرند","اهر","میانه","بناب","شبستر","جلفا","سهند","سراب","هشترود","کلیبر","اسکو","بستان‌آباد","آذرشهر","هریس","عجب‌شیر","ورزقان","ملکان","قره‌آغاج","مبارک‌شهر"],
    "آذربایجان غربی": ["ارومیه","خوی","مهاباد","بوکان","میاندوآب","سلماس","پیرانشهر","نقده","شاهین‌دژ","سردشت","ماکو","تکاب","اشنویه","قره‌ضیاءالدین","چایپاره","پلدشت","شوط","سیروان","ربط","بازرگان","نوشین‌شهر","قوشچی"],
    "اردبیل": ["اردبیل","پارس‌آباد","مشگین‌شهر","خلخال","نمین","نیر","گرمی","بیله‌سوار","کوثر","سرعین","گیوی","اصلاندوز","هیر","جعفرآباد","فیروزآباد","کلور","تازه کند","کوراییم"],
    "اصفهان": ["اصفهان","کاشان","خمینی‌شهر","نجف‌آباد","فلاورجان","شاهین‌شهر","شهرضا","مبارکه","زرین‌شهر","گلپایگان","خوانسار","نایین","درچه","اردستان","چادگان","دولت‌آباد","لنجان","میمه","فولادشهر","کوهپایه","آران و بیدگل","ورزنه"],
    "البرز": ["کرج","فردیس","کمال‌شهر","نظرآباد","محمدشهر","ماهدشت","مهرشهر","هشتگرد","اشتهارد","طالقان","چهارباغ","گوهردشت","کوهسار","کوهک","ساوجبلاغ"],
    "ایلام": ["ایلام","دهلران","دره‌شهر","ایوان","مهران","آبدانان","سرابله","چرداول","بدره","ملکشاهی","لومار","موسیان","چوار","میمه"],
    "بوشهر": ["بوشهر","برازجان","گناوه","خورموج","کنگان","عسلویه","جم","دیلم","دیر","شبانکاره","کاکی","اهرم","خارگ","بندر سیراف","بندر ریگ","بندر دیر","آبپخش","سعدآباد","دلوار"],
    "تهران": ["تهران","اسلام‌شهر","شهریار","قدس","ملارد","نسیم‌شهر","ری","رباط‌کریم","ورامین","قرچک","پاکدشت","اندیشه","پردیس","دماوند","بومهن","شریف‌آباد","رودهن","کهریزک","باغستان","فردوسیه","شهر ری","باقرشهر"],
    "چهارمحال و بختیاری": ["شهرکرد","بروجن","فارسان","لردگان","اردل","کوهرنگ","سامان","بن","کیار","فرخ‌شهر","بلداجی","سورشجان","چلگرد","جونقان","گندمان","ناغان","شلمزار"],
    "خراسان جنوبی": ["بیرجند","قائن","فردوس","نهبندان","طبس","سرایان","بشرویه","خوسف","اسدیه","درمیان","زیرکوه","آیسک"],
    "خراسان رضوی": ["مشهد","سبزوار","نیشابور","تربت حیدریه","کاشمر","قوچان","بردسکن","چناران","فریمان","خواف","تایباد","تربت جام","گناباد","درگز","سرخس","کلات","رشتخوار","مه ولات","طرقبه","شاندیز","بجستان","خلیل‌آباد"],
    "خراسان شمالی": ["بجنورد","شیروان","اسفراین","جاجرم","مانه و سملقان","فاروج","گرمه","راز و جرگلان","قاضی","درق","ایور","آوا","لوجلی","غلامان","زیارت","آشخانه"],
    "خوزستان": ["اهواز","دزفول","آبادان","خرمشهر","اندیمشک","مسجدسلیمان","ایذه","بهبهان","شوشتر","ماهشهر","سوسنگرد","شوش","باغ‌ملک","رامشیر","شادگان","امیدیه","هندیجان","لالی","رامهرمز","دشت آزادگان"],
    "زنجان": ["زنجان","ابهر","خرمدره","قیدار","سلطانیه","ماهنشان","سجاس","زرین‌آباد","دندی","ارمغانخانه","نوربهار","سجین","هیدج","صایین‌قلعه","آب‌بر","سهرورد"],
    "سمنان": ["سمنان","شاهرود","دامغان","گرمسار","مهدی‌شهر","ایوانکی","بسطام","میامی","سرخه","دیباج","بیارجمند","شهمیرزاد","کالپوش","مجین","حسین‌آباد"],
    "سیستان و بلوچستان": ["زاهدان","زابل","ایرانشهر","چابهار","خاش","سراوان","کنارک","نیک‌شهر","سرباز","راسک","فنوج","مهرستان","قصرقند","سیب و سوران","دشتیاری","دلگان"],
    "فارس": ["شیراز","مرودشت","کازرون","جهرم","فسا","لار","فیروزآباد","اقلید","داراب","لامرد","نورآباد","ممسنی","نی‌ریز","آباده","صفاشهر","استهبان","گراش","خنج","قیر و کارزین","پاسارگاد","بوانات","سروستان"],
    "قزوین": ["قزوین","تاکستان","الوند","اقبالیه","آبیک","بیدستان","بوئین‌زهرا","شال","مهرگان","اسفرورین","کوهین","آوج","ضیاءآباد","خاکعلی"],
    "قم": ["قم","جعفریه","کهک","سلفچگان","دستجرد","قنوات","کوشا","قمصر"],
    "کردستان": ["سنندج","سقز","مریوان","بانه","قروه","کامیاران","دیواندره","بیجار","سروآباد","دهگلان","موچش","سریش‌آباد","دلبران"],
    "کرمان": ["کرمان","سیرجان","رفسنجان","جیرفت","بم","کهنوج","بافت","بردسیر","زرند","عنبرآباد","شهربابک","منوجان","قلعه‌گنج","راور","کوهبنان","ریگان","فهرج","انار","رودبار"],
    "کرمانشاه": ["کرمانشاه","اسلام‌آباد غرب","جوانرود","کنگاور","صحنه","سنقر","پاوه","هرسین","قصر شیرین","سرپل ذهاب","گیلانغرب","روانسر","ثلاث باباجانی","کوزران","ماهیدشت"],
    "کهگیلویه و بویراحمد": ["یاسوج","گچساران","دوگنبدان","دهدشت","لیکک","باشت","سی‌سخت","چرام","لنده","سوق","پاتاوه","مادوان"],
    "گلستان": ["گرگان","گنبد کاووس","بندر ترکمن","علی‌آباد کتول","آق‌قلا","کردکوی","مینودشت","گالیکش","کلاله","رامیان","آزادشهر","گمیشان","سیمین‌شهر","نوکنده","خان ببین","اینچه‌برون"],
    "گیلان": ["رشت","انزلی","لاهیجان","لنگرود","تالش","رودبار","رودسر","فومن","صومعه‌سرا","آستانه اشرفیه","آستارا","ماسال","سیاهکل","املش","رضوان‌شهر","کوچصفهان","کیاشهر","شفت","چمخاله","رحیم‌آباد","لوشان","کلاچای"],
    "لرستان": ["خرم‌آباد","بروجرد","دورود","کوهدشت","الیگودرز","نورآباد","پلدختر","ازنا","الشتر","چگنی","معمولان","سراب دوره","رومشگان","کونانی","چغابل"],
    "مازندران": ["ساری","بابل","آمل","قائم‌شهر","بابلسر","بهشهر","تنکاباد","نوشهر","چالوس","فریدون‌کنار","رامسر","نور","محمودآباد","نکا","جویبار","عباس‌آباد","سوادکوه","کلاردشت"],
    "مرکزی": ["اراک","ساوه","خمین","محلات","دلیجان","زرندیه","شازند","آشتیان","فراهان","تفرش","سربند","کمیجان","مهاجران","مأمونیه","نوبران"],
    "هرمزگان": ["بندرعباس","میناب","قشم","کیش","بندر لنگه","رودان","جاسک","بستک","حاجی‌آباد","پارسیان","سیریک","بشاگرد","کوهستک","تنگه","چارک","سندرک"],
    "همدان": ["همدان","ملایر","نهاوند","تویسرکان","اسدآباد","کبودراهنگ","بهار","رزن","فامنین","قروه درجزین","دمق","جوکار","ازندریان","سامن","جورقان","قهاوند"],
    "یزد": ["یزد","میبد","اردکان","تفت","بافق","ابرکوه","مهریز","اشکذر","هرات","شاهدیه","حمیدیا","زارچ","نیر","مروست","عقدا","بهاباد","احمدآباد","سایبان","خضرآباد","ندوشن"]
};
const provinceSelect = document.getElementById('province-select');
const citySelect = document.getElementById('city-select');
const liveTimeElement = document.getElementById('live-time');
const currentData = document.getElementById('current-data');
const forecastDiv = document.getElementById('forecast');
const feedbackForm = document.getElementById('feedback-form');
const commentsList = document.getElementById('comments-list');
const currentCityTitle = document.getElementById('current-city-title');
function updateLiveTime() {
    const now = new Date();
    liveTimeElement.textContent = now.toLocaleDateString('fa-IR', {
        weekday: 'long',
        year: 'numeric',
        month: 'long',
        day: 'numeric',
        hour: '2-digit',
        minute: '2-digit',
        second: '2-digit'
    });
}
setInterval(updateLiveTime, 1000);
updateLiveTime();
function getPersianDate(timestamp) {
    const date = new Date(timestamp * 1000);
    return date.toLocaleDateString('fa-IR', {
        year: 'numeric',
        month: 'long',
        day: 'numeric'
    });
}
for (const province in provinces) {
    const option = document.createElement('option');
    option.value = province;
    option.textContent = province;
    provinceSelect.appendChild(option);
}
provinceSelect.addEventListener('change', () => {
    const selectedProvince = provinceSelect.value;
    citySelect.innerHTML = '<option value="">شهر را انتخاب کنید</option>';
    currentCityTitle.textContent = 'وضعیت فعلی';
    currentData.innerHTML = '<p>لطفاً یک شهر را انتخاب کنید.</p>';
    forecastDiv.innerHTML = '';
    if (selectedProvince) {
        provinces[selectedProvince].forEach(city => {
            const option = document.createElement('option');
            option.value = city;
            option.textContent = city;
            citySelect.appendChild(option);
        });
    }
});
citySelect.addEventListener('change', () => {
    const selectedCity = citySelect.value;
    if (selectedCity) {
        currentCityTitle.innerHTML = `وضعیت فعلی در <span class="current-city-name">${selectedCity}</span>`;
        fetchCoordinates(selectedCity);
    } else {
        currentCityTitle.textContent = 'وضعیت فعلی';
        currentData.innerHTML = '<p>لطفاً یک شهر را انتخاب کنید.</p>';
        forecastDiv.innerHTML = '';
    }
});
async function fetchCoordinates(city) {
    currentData.innerHTML = '<p>در حال یافتن مختصات شهر...</p>';
    forecastDiv.innerHTML = '<p>در حال بارگذاری...</p>';
    const geoUrl = `https://api.openweathermap.org/geo/1.0/direct?q=${city},IR&limit=1&appid=${API_KEY}`;
    try {
        const response = await fetch(geoUrl);
        if (!response.ok) {
            throw new Error(`HTTP error! status: ${response.status}`);
        }
        const data = await response.json();
        if (data.length > 0) {
            const { lat, lon } = data[0];
            fetchWeather(lat, lon, city);
        } else {
            currentData.innerHTML = `<p>مختصات برای شهر "${city}" یافت نشد. لطفاً شهر دیگری را انتخاب کنید.</p>`;
            forecastDiv.innerHTML = '';
        }
    } catch (error) {
        currentData.innerHTML = `<p>خطا در دریافت مختصات. لطفاً بعداً دوباره تلاش کنید.</p>`;
        forecastDiv.innerHTML = '';
        console.error('Error fetching coordinates:', error);
    }
}
function displayCurrentWeather(data, cityName) {
    if (data.cod !== 200) {
        currentData.innerHTML = `<p>خطا در دریافت داده برای شهر: ${cityName || 'نامشخص'}</p>`;
        return;
    }
    const now = new Date().getTime() / 1000;
    const isDay = now > data.sys.sunrise && now < data.sys.sunset;
    const iconCode = data.weather[0].icon;
    const iconToShow = isDay ? iconCode.replace('n', 'd') : iconCode.replace('d', 'n');
    const iconUrl = `https://openweathermap.org/img/wn/${iconToShow}@2x.png`;
    const persianDate = getPersianDate(data.dt);
    currentData.innerHTML = `
        <div class="weather-icon">
            <img src="${iconUrl}" alt="${data.weather[0].description}">
        </div>
        <p><strong>تاریخ:</strong> ${persianDate}</p>
        <p><strong><span class="temp-color">دما:</span></strong> ${Math.round(data.main.temp)}°C</p>
        <p><strong>وضعیت:</strong> ${data.weather[0].description}</p>
        <p><strong><span class="temp-color">حداقل دما:</span></strong> ${Math.round(data.main.temp_min)}°C</p>
        <p><strong><span class="temp-color">حداکثر دما:</span></strong> ${Math.round(data.main.temp_max)}°C</p>
        <p><strong><span class="humidity-color"><i class="fas fa-tint"></i> رطوبت:</span></strong> ${data.main.humidity}%</p>
        <p><strong><span class="wind-color"><i class="fas fa-wind"></i> سرعت باد:</span></strong> ${Math.round(data.wind.speed * 3.6)} کیلومتر بر ساعت</p>
    `;
}
function displayForecast(data) {
    forecastDiv.innerHTML = '';
    const dailyForecasts = data.list.filter(item => item.dt_txt.includes('12:00:00'));
    dailyForecasts.forEach(forecast => {
        const iconUrl = `https://openweathermap.org/img/wn/${forecast.weather[0].icon}@2x.png`;
        const date = new Date(forecast.dt * 1000).toLocaleDateString('fa-IR', { weekday: 'long' });
        const persianDate = getPersianDate(forecast.dt);
        const pop = Math.round(forecast.pop * 100);
        const humidity = forecast.main.humidity;
        const windSpeed = Math.round(forecast.wind.speed * 3.6);
        const card = document.createElement('div');
        card.classList.add('forecast-card');
        card.innerHTML = `
            <h4>${date}</h4>
            <p>${persianDate}</p>
            <div class="weather-icon">
                <img src="${iconUrl}" alt="${forecast.weather[0].description}">
            </div>
            <p><strong><span class="temp-color">دما:</span></strong> ${Math.round(forecast.main.temp)}°C</p>
            <p><strong>وضعیت:</strong> ${forecast.weather[0].description}</p>
            <p><strong><span class="humidity-color"><i class="fas fa-tint"></i> رطوبت:</span></strong> ${humidity}%</p>
            <p><strong><span class="wind-color"><i class="fas fa-wind"></i> سرعت باد:</span></strong> ${windSpeed} km/h</p>
            <p><strong><span class="pop-color"><i class="fas fa-cloud-showers-heavy"></i> احتمال بارش:</span></strong> ${pop}%</p>
        `;
        forecastDiv.appendChild(card);
    });
}
async function fetchWeather(lat, lon, city) {
    currentData.innerHTML = '<p>در حال بارگذاری داده‌های هواشناسی...</p>';
    forecastDiv.innerHTML = '<p>در حال بارگذاری...</p>';
    const currentUrl = `https://api.openweathermap.org/data/2.5/weather?lat=${lat}&lon=${lon}&appid=${API_KEY}&units=metric&lang=fa`;
    const forecastUrl = `https://api.openweathermap.org/data/2.5/forecast?lat=${lat}&lon=${lon}&appid=${API_KEY}&units=metric&lang=fa`;
    try {
        const [currentResponse, forecastResponse] = await Promise.all([
            fetch(currentUrl),
            fetch(forecastUrl)
        ]);
        if (!currentResponse.ok || !forecastResponse.ok) {
            throw new Error(`HTTP error! status: ${currentResponse.status} / ${forecastResponse.status}`);
        }
        const currentDataResponse = await currentResponse.json();
        const forecastDataResponse = await forecastResponse.json();
        displayCurrentWeather(currentDataResponse, city);
        displayForecast(forecastDataResponse);
    } catch (error) {
        currentData.innerHTML = `<p>خطا در دریافت داده‌های هواشناسی. لطفاً بعداً دوباره تلاش کنید.</p>`;
        forecastDiv.innerHTML = '';
        console.error('Error fetching weather data:', error);
    }
}
function loadComments() {
    const comments = JSON.parse(localStorage.getItem('weather_comments')) || [];
    commentsList.innerHTML = '';
    comments.forEach(comment => {
        const li = document.createElement('li');
        li.innerHTML = `
            <strong>${comment.name}</strong>
            <p>${comment.comment}</p>
            <small>${comment.date}</small>
        `;
        commentsList.appendChild(li);
    });
}
feedbackForm.addEventListener('submit', (e) => {
    e.preventDefault();
    const name = document.getElementById('feedback-name').value;
    const comment = document.getElementById('feedback-comment').value;
    const date = new Date().toLocaleDateString('fa-IR', {
        year: 'numeric', month: 'long', day: 'numeric',
        hour: '2-digit', minute: '2-digit'
    });
    const newComment = { name, comment, date };
    const comments = JSON.parse(localStorage.getItem('weather_comments')) || [];
    comments.push(newComment);
    localStorage.setItem('weather_comments', JSON.stringify(comments));
    feedbackForm.reset();
    loadComments();
});
document.addEventListener('DOMContentLoaded', loadComments);
</script>
</body>
</html>
