<!DOCTYPE html>
<html lang="fa">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ù‡ÙˆØ§Ø´Ù†Ø§Ø³ÛŒ Ø§ÛŒØ±Ø§Ù†</title>
<link href="https://fonts.googleapis.com/css2?family=Vazirmatn:wght@400;700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<style>
body {
    font-family: 'Vazirmatn', sans-serif;
    direction: rtl;
    background: linear-gradient(to bottom, #f0f4f7, #ffffff);
    margin: 0;
    padding: 0;
    color: #333;
    line-height: 1.6;
}
header {
    text-align: center;
    padding: 40px 20px;
    background: linear-gradient(135deg, #00838f, #00bfa5);
    color: white;
    box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
    position: relative;
    overflow: hidden;
}
header h1 {
    margin: 0;
    font-size: 2.8em;
    font-weight: 700;
}
header p {
    margin: 10px 0 0;
    font-size: 1.1em;
    font-weight: 400;
}
header::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: url('https://www.transparenttextures.com/patterns/connected-dots.png');
    opacity: 0.1;
}
.container {
    max-width: 960px;
    margin: 30px auto;
    padding: 20px;
}
.card {
    background: #ffffff;
    border-radius: 20px;
    padding: 30px;
    box-shadow: 0 8px 24px rgba(0, 0, 0, 0.1);
    margin-bottom: 30px;
}
.selectors-section {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 20px;
    margin-bottom: 30px;
}
.selector-group {
    display: flex;
    align-items: center;
    gap: 15px;
}
select {
    padding: 12px 20px;
    font-size: 16px;
    border: 1px solid #ddd;
    border-radius: 10px;
    min-width: 200px;
    background-color: #f9f9f9;
    transition: all 0.3s ease;
    cursor: pointer;
}
select:hover {
    border-color: #00bfa5;
    box-shadow: 0 0 8px rgba(0, 191, 165, 0.2);
}
select:focus {
    outline: none;
    border-color: #00838f;
    box-shadow: 0 0 8px rgba(0, 131, 143, 0.3);
}
#weather-info {
    text-align: center;
}
h2 {
    font-size: 2em;
    color: #00796b;
    border-bottom: 2px solid #e0f2f1;
    padding-bottom: 10px;
    margin-bottom: 20px;
    display: inline-block;
}
.weather-data-card {
    background: linear-gradient(145deg, #e0f7fa, #ffffff);
    padding: 30px;
    border-radius: 20px;
    display: inline-block;
    min-width: 380px;
    box-shadow: 0 6px 18px rgba(0, 0, 0, 0.1);
    text-align: center;
    margin-top: 20px;
    animation: fadeIn 1s ease-in-out;
}
@keyframes fadeIn {
    from { opacity: 0; transform: translateY(20px); }
    to { opacity: 1; transform: translateY(0); }
}
.weather-icon {
    width: 100px;
    height: 100px;
    border-radius: 50%;
    background: #fff;
    display: flex;
    justify-content: center;
    align-items: center;
    margin: 0 auto 15px;
    box-shadow: inset 0 3px 8px rgba(0, 0, 0, 0.1);
}
.weather-data-card p {
    margin: 10px 0;
}
.weather-data-card strong {
    color: #00796b;
}
#forecast {
    display: flex;
    justify-content: center;
    flex-wrap: wrap;
    gap: 20px;
    margin-top: 30px;
}
.forecast-card {
    background: linear-gradient(145deg, #fdfdfd, #f0f4f7);
    padding: 20px;
    border-radius: 16px;
    width: 180px;
    text-align: center;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.08);
    transition: transform 0.3s ease, box-shadow 0.3s ease;
}
.forecast-card:hover {
    transform: translateY(-6px);
    box-shadow: 0 6px 12px rgba(0, 0, 0, 0.12);
}
.forecast-card .weather-icon {
    width: 70px;
    height: 70px;
}
.forecast-card p {
    font-size: 0.9em;
    margin: 5px 0;
}
#feedback-section {
    background-color: #fffde7;
    padding: 30px;
    border-radius: 16px;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}
#feedback-form .form-group {
    margin-bottom: 15px;
}
#feedback-form label {
    display: block;
    margin-bottom: 8px;
    font-weight: bold;
    color: #004d40;
}
#feedback-form input, #feedback-form textarea {
    width: 100%;
    padding: 12px;
    border: 1px solid #ddd;
    border-radius: 10px;
    background-color: #f9f9f9;
    transition: border-color 0.3s;
}
#feedback-form input:focus, #feedback-form textarea:focus {
    outline: none;
    border-color: #00796b;
}
#feedback-form button {
    background-color: #00796b;
    color: white;
    border: none;
    padding: 14px 24px;
    border-radius: 10px;
    cursor: pointer;
    font-size: 1.1em;
    transition: all 0.3s;
}
#feedback-form button:hover {
    background-color: #004d40;
}
#comments-list {
    list-style: none;
    padding: 0;
    margin-top: 25px;
}
#comments-list li {
    background-color: #fff;
    padding: 18px;
    border-radius: 10px;
    margin-bottom: 15px;
    border-right: 5px solid #009688;
    box-shadow: 0 2px 8px rgba(0,0,0,0.05);
}
.temp-color { color: #d32f2f; }
.humidity-color { color: #0277bd; }
.wind-color { color: #558b2f; }
.pop-color { color: #03a9f4; }
.current-city-name { color: #00796b; font-weight: 700; }
footer {
    text-align: center;
    padding: 20px;
    background-color: #cfd8dc;
    color: #555;
    font-size: 14px;
    box-shadow: inset 0 1px 0 rgba(0, 0, 0, 0.1);
}
</style>
</head>
<body>
<header>
    <h1>Ù‡ÙˆØ§Ø´Ù†Ø§Ø³ÛŒ Ø§ÛŒØ±Ø§Ù† ğŸ‡®ğŸ‡·</h1>
    <p id="live-time">Ø¯Ø± Ø­Ø§Ù„ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ø²Ù…Ø§Ù†...</p>
</header>
<main class="container">
    <section class="card selectors-section">
        <div class="selector-group">
            <label for="province-select">Ø§Ø³ØªØ§Ù†:</label>
            <select id="province-select"><option value="">Ø§Ø³ØªØ§Ù† Ø±Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯</option></select>
        </div>
        <div class="selector-group">
            <label for="city-select">Ø´Ù‡Ø±:</label>
            <select id="city-select"><option value="">Ø´Ù‡Ø± Ø±Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯</option></select>
        </div>
    </section>
    <section id="weather-info">
        <div id="current-weather" class="card">
            <h2><span id="current-city-title">ÙˆØ¶Ø¹ÛŒØª ÙØ¹Ù„ÛŒ</span></h2>
            <div class="weather-data-card" id="current-data">
                <p>Ù„Ø·ÙØ§Ù‹ ÛŒÚ© Ø´Ù‡Ø± Ø±Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯.</p>
            </div>
        </div>
        <div id="forecast-section" class="card">
            <h2>Ù¾ÛŒØ´â€ŒØ¨ÛŒÙ†ÛŒ Ûµ Ø±ÙˆØ²Ù‡</h2>
            <div id="forecast"></div>
        </div>
    </section>
    <section id="feedback-section" class="card">
        <h2>ÙØ±Ù… Ù†Ø¸Ø±Ø§Øª</h2>
        <form id="feedback-form">
            <div class="form-group">
                <label for="feedback-name">Ù†Ø§Ù…:</label>
                <input type="text" id="feedback-name" required>
            </div>
            <div class="form-group">
                <label for="feedback-comment">Ù†Ø¸Ø±:</label>
                <textarea id="feedback-comment" rows="4" required></textarea>
            </div>
            <button type="submit">Ø«Ø¨Øª Ù†Ø¸Ø±</button>
        </form>
        <h3>Ù†Ø¸Ø±Ø§Øª Ø«Ø¨Øªâ€ŒØ´Ø¯Ù‡</h3>
        <ul id="comments-list"></ul>
    </section>
</main>
<footer>
    <p>Ø³Ø§Ø®ØªÙ‡ Ø´Ø¯Ù‡ ØªÙˆØ³Ø· Ø§Ø¨ÙˆØ§Ù„ÙØ¶Ù„ Ø´Ø§Ù‡Ù…ÛŒØ±Ø²Ø§ÛŒÛŒ â¤ï¸</p>
    <p>&copy; Û±Û´Û°Û´</p>
    <p>Ø³Ø§ÛŒØª Ø§Ø² API <a href="https://openweathermap.org/" target="_blank">OpenWeatherMap</a> Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒâ€ŒÚ©Ù†Ø¯</p>
</footer>
<script>
const API_KEY = 'bf8755006c2fc6e2762533c174860bf6';
const provinces = {
    "Ø¢Ø°Ø±Ø¨Ø§ÛŒØ¬Ø§Ù† Ø´Ø±Ù‚ÛŒ": ["ØªØ¨Ø±ÛŒØ²","Ù…Ø±Ø§ØºÙ‡","Ù…Ø±Ù†Ø¯","Ø§Ù‡Ø±","Ù…ÛŒØ§Ù†Ù‡","Ø¨Ù†Ø§Ø¨","Ø´Ø¨Ø³ØªØ±","Ø¬Ù„ÙØ§","Ø³Ù‡Ù†Ø¯","Ø³Ø±Ø§Ø¨","Ù‡Ø´ØªØ±ÙˆØ¯","Ú©Ù„ÛŒØ¨Ø±","Ø§Ø³Ú©Ùˆ","Ø¨Ø³ØªØ§Ù†â€ŒØ¢Ø¨Ø§Ø¯","Ø¢Ø°Ø±Ø´Ù‡Ø±","Ù‡Ø±ÛŒØ³","Ø¹Ø¬Ø¨â€ŒØ´ÛŒØ±","ÙˆØ±Ø²Ù‚Ø§Ù†","Ù…Ù„Ú©Ø§Ù†","Ù‚Ø±Ù‡â€ŒØ¢ØºØ§Ø¬","Ù…Ø¨Ø§Ø±Ú©â€ŒØ´Ù‡Ø±"],
    "Ø¢Ø°Ø±Ø¨Ø§ÛŒØ¬Ø§Ù† ØºØ±Ø¨ÛŒ": ["Ø§Ø±ÙˆÙ…ÛŒÙ‡","Ø®ÙˆÛŒ","Ù…Ù‡Ø§Ø¨Ø§Ø¯","Ø¨ÙˆÚ©Ø§Ù†","Ù…ÛŒØ§Ù†Ø¯ÙˆØ¢Ø¨","Ø³Ù„Ù…Ø§Ø³","Ù¾ÛŒØ±Ø§Ù†Ø´Ù‡Ø±","Ù†Ù‚Ø¯Ù‡","Ø´Ø§Ù‡ÛŒÙ†â€ŒØ¯Ú˜","Ø³Ø±Ø¯Ø´Øª","Ù…Ø§Ú©Ùˆ","ØªÚ©Ø§Ø¨","Ø§Ø´Ù†ÙˆÛŒÙ‡","Ù‚Ø±Ù‡â€ŒØ¶ÛŒØ§Ø¡Ø§Ù„Ø¯ÛŒÙ†","Ú†Ø§ÛŒÙ¾Ø§Ø±Ù‡","Ù¾Ù„Ø¯Ø´Øª","Ø´ÙˆØ·","Ø³ÛŒØ±ÙˆØ§Ù†","Ø±Ø¨Ø·","Ø¨Ø§Ø²Ø±Ú¯Ø§Ù†","Ù†ÙˆØ´ÛŒÙ†â€ŒØ´Ù‡Ø±","Ù‚ÙˆØ´Ú†ÛŒ"],
    "Ø§Ø±Ø¯Ø¨ÛŒÙ„": ["Ø§Ø±Ø¯Ø¨ÛŒÙ„","Ù¾Ø§Ø±Ø³â€ŒØ¢Ø¨Ø§Ø¯","Ù…Ø´Ú¯ÛŒÙ†â€ŒØ´Ù‡Ø±","Ø®Ù„Ø®Ø§Ù„","Ù†Ù…ÛŒÙ†","Ù†ÛŒØ±","Ú¯Ø±Ù…ÛŒ","Ø¨ÛŒÙ„Ù‡â€ŒØ³ÙˆØ§Ø±","Ú©ÙˆØ«Ø±","Ø³Ø±Ø¹ÛŒÙ†","Ú¯ÛŒÙˆÛŒ","Ø§ØµÙ„Ø§Ù†Ø¯ÙˆØ²","Ù‡ÛŒØ±","Ø¬Ø¹ÙØ±Ø¢Ø¨Ø§Ø¯","ÙÛŒØ±ÙˆØ²Ø¢Ø¨Ø§Ø¯","Ú©Ù„ÙˆØ±","ØªØ§Ø²Ù‡ Ú©Ù†Ø¯","Ú©ÙˆØ±Ø§ÛŒÛŒÙ…"],
    "Ø§ØµÙÙ‡Ø§Ù†": ["Ø§ØµÙÙ‡Ø§Ù†","Ú©Ø§Ø´Ø§Ù†","Ø®Ù…ÛŒÙ†ÛŒâ€ŒØ´Ù‡Ø±","Ù†Ø¬Ùâ€ŒØ¢Ø¨Ø§Ø¯","ÙÙ„Ø§ÙˆØ±Ø¬Ø§Ù†","Ø´Ø§Ù‡ÛŒÙ†â€ŒØ´Ù‡Ø±","Ø´Ù‡Ø±Ø¶Ø§","Ù…Ø¨Ø§Ø±Ú©Ù‡","Ø²Ø±ÛŒÙ†â€ŒØ´Ù‡Ø±","Ú¯Ù„Ù¾Ø§ÛŒÚ¯Ø§Ù†","Ø®ÙˆØ§Ù†Ø³Ø§Ø±","Ù†Ø§ÛŒÛŒÙ†","Ø¯Ø±Ú†Ù‡","Ø§Ø±Ø¯Ø³ØªØ§Ù†","Ú†Ø§Ø¯Ú¯Ø§Ù†","Ø¯ÙˆÙ„Øªâ€ŒØ¢Ø¨Ø§Ø¯","Ù„Ù†Ø¬Ø§Ù†","Ù…ÛŒÙ…Ù‡","ÙÙˆÙ„Ø§Ø¯Ø´Ù‡Ø±","Ú©ÙˆÙ‡Ù¾Ø§ÛŒÙ‡","Ø¢Ø±Ø§Ù† Ùˆ Ø¨ÛŒØ¯Ú¯Ù„","ÙˆØ±Ø²Ù†Ù‡"],
    "Ø§Ù„Ø¨Ø±Ø²": ["Ú©Ø±Ø¬","ÙØ±Ø¯ÛŒØ³","Ú©Ù…Ø§Ù„â€ŒØ´Ù‡Ø±","Ù†Ø¸Ø±Ø¢Ø¨Ø§Ø¯","Ù…Ø­Ù…Ø¯Ø´Ù‡Ø±","Ù…Ø§Ù‡Ø¯Ø´Øª","Ù…Ù‡Ø±Ø´Ù‡Ø±","Ù‡Ø´ØªÚ¯Ø±Ø¯","Ø§Ø´ØªÙ‡Ø§Ø±Ø¯","Ø·Ø§Ù„Ù‚Ø§Ù†","Ú†Ù‡Ø§Ø±Ø¨Ø§Øº","Ú¯ÙˆÙ‡Ø±Ø¯Ø´Øª","Ú©ÙˆÙ‡Ø³Ø§Ø±","Ú©ÙˆÙ‡Ú©","Ø³Ø§ÙˆØ¬Ø¨Ù„Ø§Øº"],
    "Ø§ÛŒÙ„Ø§Ù…": ["Ø§ÛŒÙ„Ø§Ù…","Ø¯Ù‡Ù„Ø±Ø§Ù†","Ø¯Ø±Ù‡â€ŒØ´Ù‡Ø±","Ø§ÛŒÙˆØ§Ù†","Ù…Ù‡Ø±Ø§Ù†","Ø¢Ø¨Ø¯Ø§Ù†Ø§Ù†","Ø³Ø±Ø§Ø¨Ù„Ù‡","Ú†Ø±Ø¯Ø§ÙˆÙ„","Ø¨Ø¯Ø±Ù‡","Ù…Ù„Ú©Ø´Ø§Ù‡ÛŒ","Ù„ÙˆÙ…Ø§Ø±","Ù…ÙˆØ³ÛŒØ§Ù†","Ú†ÙˆØ§Ø±","Ù…ÛŒÙ…Ù‡"],
    "Ø¨ÙˆØ´Ù‡Ø±": ["Ø¨ÙˆØ´Ù‡Ø±","Ø¨Ø±Ø§Ø²Ø¬Ø§Ù†","Ú¯Ù†Ø§ÙˆÙ‡","Ø®ÙˆØ±Ù…ÙˆØ¬","Ú©Ù†Ú¯Ø§Ù†","Ø¹Ø³Ù„ÙˆÛŒÙ‡","Ø¬Ù…","Ø¯ÛŒÙ„Ù…","Ø¯ÛŒØ±","Ø´Ø¨Ø§Ù†Ú©Ø§Ø±Ù‡","Ú©Ø§Ú©ÛŒ","Ø§Ù‡Ø±Ù…","Ø®Ø§Ø±Ú¯","Ø¨Ù†Ø¯Ø± Ø³ÛŒØ±Ø§Ù","Ø¨Ù†Ø¯Ø± Ø±ÛŒÚ¯","Ø¨Ù†Ø¯Ø± Ø¯ÛŒØ±","Ø¢Ø¨Ù¾Ø®Ø´","Ø³Ø¹Ø¯Ø¢Ø¨Ø§Ø¯","Ø¯Ù„ÙˆØ§Ø±"],
    "ØªÙ‡Ø±Ø§Ù†": ["ØªÙ‡Ø±Ø§Ù†","Ø§Ø³Ù„Ø§Ù…â€ŒØ´Ù‡Ø±","Ø´Ù‡Ø±ÛŒØ§Ø±","Ù‚Ø¯Ø³","Ù…Ù„Ø§Ø±Ø¯","Ù†Ø³ÛŒÙ…â€ŒØ´Ù‡Ø±","Ø±ÛŒ","Ø±Ø¨Ø§Ø·â€ŒÚ©Ø±ÛŒÙ…","ÙˆØ±Ø§Ù…ÛŒÙ†","Ù‚Ø±Ú†Ú©","Ù¾Ø§Ú©Ø¯Ø´Øª","Ø§Ù†Ø¯ÛŒØ´Ù‡","Ù¾Ø±Ø¯ÛŒØ³","Ø¯Ù…Ø§ÙˆÙ†Ø¯","Ø¨ÙˆÙ…Ù‡Ù†","Ø´Ø±ÛŒÙâ€ŒØ¢Ø¨Ø§Ø¯","Ø±ÙˆØ¯Ù‡Ù†","Ú©Ù‡Ø±ÛŒØ²Ú©","Ø¨Ø§ØºØ³ØªØ§Ù†","ÙØ±Ø¯ÙˆØ³ÛŒÙ‡","Ø´Ù‡Ø± Ø±ÛŒ","Ø¨Ø§Ù‚Ø±Ø´Ù‡Ø±"],
    "Ú†Ù‡Ø§Ø±Ù…Ø­Ø§Ù„ Ùˆ Ø¨Ø®ØªÛŒØ§Ø±ÛŒ": ["Ø´Ù‡Ø±Ú©Ø±Ø¯","Ø¨Ø±ÙˆØ¬Ù†","ÙØ§Ø±Ø³Ø§Ù†","Ù„Ø±Ø¯Ú¯Ø§Ù†","Ø§Ø±Ø¯Ù„","Ú©ÙˆÙ‡Ø±Ù†Ú¯","Ø³Ø§Ù…Ø§Ù†","Ø¨Ù†","Ú©ÛŒØ§Ø±","ÙØ±Ø®â€ŒØ´Ù‡Ø±","Ø¨Ù„Ø¯Ø§Ø¬ÛŒ","Ø³ÙˆØ±Ø´Ø¬Ø§Ù†","Ú†Ù„Ú¯Ø±Ø¯","Ø¬ÙˆÙ†Ù‚Ø§Ù†","Ú¯Ù†Ø¯Ù…Ø§Ù†","Ù†Ø§ØºØ§Ù†","Ø´Ù„Ù…Ø²Ø§Ø±"],
    "Ø®Ø±Ø§Ø³Ø§Ù† Ø¬Ù†ÙˆØ¨ÛŒ": ["Ø¨ÛŒØ±Ø¬Ù†Ø¯","Ù‚Ø§Ø¦Ù†","ÙØ±Ø¯ÙˆØ³","Ù†Ù‡Ø¨Ù†Ø¯Ø§Ù†","Ø·Ø¨Ø³","Ø³Ø±Ø§ÛŒØ§Ù†","Ø¨Ø´Ø±ÙˆÛŒÙ‡","Ø®ÙˆØ³Ù","Ø§Ø³Ø¯ÛŒÙ‡","Ø¯Ø±Ù…ÛŒØ§Ù†","Ø²ÛŒØ±Ú©ÙˆÙ‡","Ø¢ÛŒØ³Ú©"],
    "Ø®Ø±Ø§Ø³Ø§Ù† Ø±Ø¶ÙˆÛŒ": ["Ù…Ø´Ù‡Ø¯","Ø³Ø¨Ø²ÙˆØ§Ø±","Ù†ÛŒØ´Ø§Ø¨ÙˆØ±","ØªØ±Ø¨Øª Ø­ÛŒØ¯Ø±ÛŒÙ‡","Ú©Ø§Ø´Ù…Ø±","Ù‚ÙˆÚ†Ø§Ù†","Ø¨Ø±Ø¯Ø³Ú©Ù†","Ú†Ù†Ø§Ø±Ø§Ù†","ÙØ±ÛŒÙ…Ø§Ù†","Ø®ÙˆØ§Ù","ØªØ§ÛŒØ¨Ø§Ø¯","ØªØ±Ø¨Øª Ø¬Ø§Ù…","Ú¯Ù†Ø§Ø¨Ø§Ø¯","Ø¯Ø±Ú¯Ø²","Ø³Ø±Ø®Ø³","Ú©Ù„Ø§Øª","Ø±Ø´ØªØ®ÙˆØ§Ø±","Ù…Ù‡ ÙˆÙ„Ø§Øª","Ø·Ø±Ù‚Ø¨Ù‡","Ø´Ø§Ù†Ø¯ÛŒØ²","Ø¨Ø¬Ø³ØªØ§Ù†","Ø®Ù„ÛŒÙ„â€ŒØ¢Ø¨Ø§Ø¯"],
    "Ø®Ø±Ø§Ø³Ø§Ù† Ø´Ù…Ø§Ù„ÛŒ": ["Ø¨Ø¬Ù†ÙˆØ±Ø¯","Ø´ÛŒØ±ÙˆØ§Ù†","Ø§Ø³ÙØ±Ø§ÛŒÙ†","Ø¬Ø§Ø¬Ø±Ù…","Ù…Ø§Ù†Ù‡ Ùˆ Ø³Ù…Ù„Ù‚Ø§Ù†","ÙØ§Ø±ÙˆØ¬","Ú¯Ø±Ù…Ù‡","Ø±Ø§Ø² Ùˆ Ø¬Ø±Ú¯Ù„Ø§Ù†","Ù‚Ø§Ø¶ÛŒ","Ø¯Ø±Ù‚","Ø§ÛŒÙˆØ±","Ø¢ÙˆØ§","Ù„ÙˆØ¬Ù„ÛŒ","ØºÙ„Ø§Ù…Ø§Ù†","Ø²ÛŒØ§Ø±Øª","Ø¢Ø´Ø®Ø§Ù†Ù‡"],
    "Ø®ÙˆØ²Ø³ØªØ§Ù†": ["Ø§Ù‡ÙˆØ§Ø²","Ø¯Ø²ÙÙˆÙ„","Ø¢Ø¨Ø§Ø¯Ø§Ù†","Ø®Ø±Ù…Ø´Ù‡Ø±","Ø§Ù†Ø¯ÛŒÙ…Ø´Ú©","Ù…Ø³Ø¬Ø¯Ø³Ù„ÛŒÙ…Ø§Ù†","Ø§ÛŒØ°Ù‡","Ø¨Ù‡Ø¨Ù‡Ø§Ù†","Ø´ÙˆØ´ØªØ±","Ù…Ø§Ù‡Ø´Ù‡Ø±","Ø³ÙˆØ³Ù†Ú¯Ø±Ø¯","Ø´ÙˆØ´","Ø¨Ø§Øºâ€ŒÙ…Ù„Ú©","Ø±Ø§Ù…Ø´ÛŒØ±","Ø´Ø§Ø¯Ú¯Ø§Ù†","Ø§Ù…ÛŒØ¯ÛŒÙ‡","Ù‡Ù†Ø¯ÛŒØ¬Ø§Ù†","Ù„Ø§Ù„ÛŒ","Ø±Ø§Ù…Ù‡Ø±Ù…Ø²","Ø¯Ø´Øª Ø¢Ø²Ø§Ø¯Ú¯Ø§Ù†"],
    "Ø²Ù†Ø¬Ø§Ù†": ["Ø²Ù†Ø¬Ø§Ù†","Ø§Ø¨Ù‡Ø±","Ø®Ø±Ù…Ø¯Ø±Ù‡","Ù‚ÛŒØ¯Ø§Ø±","Ø³Ù„Ø·Ø§Ù†ÛŒÙ‡","Ù…Ø§Ù‡Ù†Ø´Ø§Ù†","Ø³Ø¬Ø§Ø³","Ø²Ø±ÛŒÙ†â€ŒØ¢Ø¨Ø§Ø¯","Ø¯Ù†Ø¯ÛŒ","Ø§Ø±Ù…ØºØ§Ù†Ø®Ø§Ù†Ù‡","Ù†ÙˆØ±Ø¨Ù‡Ø§Ø±","Ø³Ø¬ÛŒÙ†","Ù‡ÛŒØ¯Ø¬","ØµØ§ÛŒÛŒÙ†â€ŒÙ‚Ù„Ø¹Ù‡","Ø¢Ø¨â€ŒØ¨Ø±","Ø³Ù‡Ø±ÙˆØ±Ø¯"],
    "Ø³Ù…Ù†Ø§Ù†": ["Ø³Ù…Ù†Ø§Ù†","Ø´Ø§Ù‡Ø±ÙˆØ¯","Ø¯Ø§Ù…ØºØ§Ù†","Ú¯Ø±Ù…Ø³Ø§Ø±","Ù…Ù‡Ø¯ÛŒâ€ŒØ´Ù‡Ø±","Ø§ÛŒÙˆØ§Ù†Ú©ÛŒ","Ø¨Ø³Ø·Ø§Ù…","Ù…ÛŒØ§Ù…ÛŒ","Ø³Ø±Ø®Ù‡","Ø¯ÛŒØ¨Ø§Ø¬","Ø¨ÛŒØ§Ø±Ø¬Ù…Ù†Ø¯","Ø´Ù‡Ù…ÛŒØ±Ø²Ø§Ø¯","Ú©Ø§Ù„Ù¾ÙˆØ´","Ù…Ø¬ÛŒÙ†","Ø­Ø³ÛŒÙ†â€ŒØ¢Ø¨Ø§Ø¯"],
    "Ø³ÛŒØ³ØªØ§Ù† Ùˆ Ø¨Ù„ÙˆÚ†Ø³ØªØ§Ù†": ["Ø²Ø§Ù‡Ø¯Ø§Ù†","Ø²Ø§Ø¨Ù„","Ø§ÛŒØ±Ø§Ù†Ø´Ù‡Ø±","Ú†Ø§Ø¨Ù‡Ø§Ø±","Ø®Ø§Ø´","Ø³Ø±Ø§ÙˆØ§Ù†","Ú©Ù†Ø§Ø±Ú©","Ù†ÛŒÚ©â€ŒØ´Ù‡Ø±","Ø³Ø±Ø¨Ø§Ø²","Ø±Ø§Ø³Ú©","ÙÙ†ÙˆØ¬","Ù…Ù‡Ø±Ø³ØªØ§Ù†","Ù‚ØµØ±Ù‚Ù†Ø¯","Ø³ÛŒØ¨ Ùˆ Ø³ÙˆØ±Ø§Ù†","Ø¯Ø´ØªÛŒØ§Ø±ÛŒ","Ø¯Ù„Ú¯Ø§Ù†"],
    "ÙØ§Ø±Ø³": ["Ø´ÛŒØ±Ø§Ø²","Ù…Ø±ÙˆØ¯Ø´Øª","Ú©Ø§Ø²Ø±ÙˆÙ†","Ø¬Ù‡Ø±Ù…","ÙØ³Ø§","Ù„Ø§Ø±","ÙÛŒØ±ÙˆØ²Ø¢Ø¨Ø§Ø¯","Ø§Ù‚Ù„ÛŒØ¯","Ø¯Ø§Ø±Ø§Ø¨","Ù„Ø§Ù…Ø±Ø¯","Ù†ÙˆØ±Ø¢Ø¨Ø§Ø¯","Ù…Ù…Ø³Ù†ÛŒ","Ù†ÛŒâ€ŒØ±ÛŒØ²","Ø¢Ø¨Ø§Ø¯Ù‡","ØµÙØ§Ø´Ù‡Ø±","Ø§Ø³ØªÙ‡Ø¨Ø§Ù†","Ú¯Ø±Ø§Ø´","Ø®Ù†Ø¬","Ù‚ÛŒØ± Ùˆ Ú©Ø§Ø±Ø²ÛŒÙ†","Ù¾Ø§Ø³Ø§Ø±Ú¯Ø§Ø¯","Ø¨ÙˆØ§Ù†Ø§Øª","Ø³Ø±ÙˆØ³ØªØ§Ù†"],
    "Ù‚Ø²ÙˆÛŒÙ†": ["Ù‚Ø²ÙˆÛŒÙ†","ØªØ§Ú©Ø³ØªØ§Ù†","Ø§Ù„ÙˆÙ†Ø¯","Ø§Ù‚Ø¨Ø§Ù„ÛŒÙ‡","Ø¢Ø¨ÛŒÚ©","Ø¨ÛŒØ¯Ø³ØªØ§Ù†","Ø¨ÙˆØ¦ÛŒÙ†â€ŒØ²Ù‡Ø±Ø§","Ø´Ø§Ù„","Ù…Ù‡Ø±Ú¯Ø§Ù†","Ø§Ø³ÙØ±ÙˆØ±ÛŒÙ†","Ú©ÙˆÙ‡ÛŒÙ†","Ø¢ÙˆØ¬","Ø¶ÛŒØ§Ø¡Ø¢Ø¨Ø§Ø¯","Ø®Ø§Ú©Ø¹Ù„ÛŒ"],
    "Ù‚Ù…": ["Ù‚Ù…","Ø¬Ø¹ÙØ±ÛŒÙ‡","Ú©Ù‡Ú©","Ø³Ù„ÙÚ†Ú¯Ø§Ù†","Ø¯Ø³ØªØ¬Ø±Ø¯","Ù‚Ù†ÙˆØ§Øª","Ú©ÙˆØ´Ø§","Ù‚Ù…ØµØ±"],
    "Ú©Ø±Ø¯Ø³ØªØ§Ù†": ["Ø³Ù†Ù†Ø¯Ø¬","Ø³Ù‚Ø²","Ù…Ø±ÛŒÙˆØ§Ù†","Ø¨Ø§Ù†Ù‡","Ù‚Ø±ÙˆÙ‡","Ú©Ø§Ù…ÛŒØ§Ø±Ø§Ù†","Ø¯ÛŒÙˆØ§Ù†Ø¯Ø±Ù‡","Ø¨ÛŒØ¬Ø§Ø±","Ø³Ø±ÙˆØ¢Ø¨Ø§Ø¯","Ø¯Ù‡Ú¯Ù„Ø§Ù†","Ù…ÙˆÚ†Ø´","Ø³Ø±ÛŒØ´â€ŒØ¢Ø¨Ø§Ø¯","Ø¯Ù„Ø¨Ø±Ø§Ù†"],
    "Ú©Ø±Ù…Ø§Ù†": ["Ú©Ø±Ù…Ø§Ù†","Ø³ÛŒØ±Ø¬Ø§Ù†","Ø±ÙØ³Ù†Ø¬Ø§Ù†","Ø¬ÛŒØ±ÙØª","Ø¨Ù…","Ú©Ù‡Ù†ÙˆØ¬","Ø¨Ø§ÙØª","Ø¨Ø±Ø¯Ø³ÛŒØ±","Ø²Ø±Ù†Ø¯","Ø¹Ù†Ø¨Ø±Ø¢Ø¨Ø§Ø¯","Ø´Ù‡Ø±Ø¨Ø§Ø¨Ú©","Ù…Ù†ÙˆØ¬Ø§Ù†","Ù‚Ù„Ø¹Ù‡â€ŒÚ¯Ù†Ø¬","Ø±Ø§ÙˆØ±","Ú©ÙˆÙ‡Ø¨Ù†Ø§Ù†","Ø±ÛŒÚ¯Ø§Ù†","ÙÙ‡Ø±Ø¬","Ø§Ù†Ø§Ø±","Ø±ÙˆØ¯Ø¨Ø§Ø±"],
    "Ú©Ø±Ù…Ø§Ù†Ø´Ø§Ù‡": ["Ú©Ø±Ù…Ø§Ù†Ø´Ø§Ù‡","Ø§Ø³Ù„Ø§Ù…â€ŒØ¢Ø¨Ø§Ø¯ ØºØ±Ø¨","Ø¬ÙˆØ§Ù†Ø±ÙˆØ¯","Ú©Ù†Ú¯Ø§ÙˆØ±","ØµØ­Ù†Ù‡","Ø³Ù†Ù‚Ø±","Ù¾Ø§ÙˆÙ‡","Ù‡Ø±Ø³ÛŒÙ†","Ù‚ØµØ± Ø´ÛŒØ±ÛŒÙ†","Ø³Ø±Ù¾Ù„ Ø°Ù‡Ø§Ø¨","Ú¯ÛŒÙ„Ø§Ù†ØºØ±Ø¨","Ø±ÙˆØ§Ù†Ø³Ø±","Ø«Ù„Ø§Ø« Ø¨Ø§Ø¨Ø§Ø¬Ø§Ù†ÛŒ","Ú©ÙˆØ²Ø±Ø§Ù†","Ù…Ø§Ù‡ÛŒØ¯Ø´Øª"],
    "Ú©Ù‡Ú¯ÛŒÙ„ÙˆÛŒÙ‡ Ùˆ Ø¨ÙˆÛŒØ±Ø§Ø­Ù…Ø¯": ["ÛŒØ§Ø³ÙˆØ¬","Ú¯Ú†Ø³Ø§Ø±Ø§Ù†","Ø¯ÙˆÚ¯Ù†Ø¨Ø¯Ø§Ù†","Ø¯Ù‡Ø¯Ø´Øª","Ù„ÛŒÚ©Ú©","Ø¨Ø§Ø´Øª","Ø³ÛŒâ€ŒØ³Ø®Øª","Ú†Ø±Ø§Ù…","Ù„Ù†Ø¯Ù‡","Ø³ÙˆÙ‚","Ù¾Ø§ØªØ§ÙˆÙ‡","Ù…Ø§Ø¯ÙˆØ§Ù†"],
    "Ú¯Ù„Ø³ØªØ§Ù†": ["Ú¯Ø±Ú¯Ø§Ù†","Ú¯Ù†Ø¨Ø¯ Ú©Ø§ÙˆÙˆØ³","Ø¨Ù†Ø¯Ø± ØªØ±Ú©Ù…Ù†","Ø¹Ù„ÛŒâ€ŒØ¢Ø¨Ø§Ø¯ Ú©ØªÙˆÙ„","Ø¢Ù‚â€ŒÙ‚Ù„Ø§","Ú©Ø±Ø¯Ú©ÙˆÛŒ","Ù…ÛŒÙ†ÙˆØ¯Ø´Øª","Ú¯Ø§Ù„ÛŒÚ©Ø´","Ú©Ù„Ø§Ù„Ù‡","Ø±Ø§Ù…ÛŒØ§Ù†","Ø¢Ø²Ø§Ø¯Ø´Ù‡Ø±","Ú¯Ù…ÛŒØ´Ø§Ù†","Ø³ÛŒÙ…ÛŒÙ†â€ŒØ´Ù‡Ø±","Ù†ÙˆÚ©Ù†Ø¯Ù‡","Ø®Ø§Ù† Ø¨Ø¨ÛŒÙ†","Ø§ÛŒÙ†Ú†Ù‡â€ŒØ¨Ø±ÙˆÙ†"],
    "Ú¯ÛŒÙ„Ø§Ù†": ["Ø±Ø´Øª","Ø§Ù†Ø²Ù„ÛŒ","Ù„Ø§Ù‡ÛŒØ¬Ø§Ù†","Ù„Ù†Ú¯Ø±ÙˆØ¯","ØªØ§Ù„Ø´","Ø±ÙˆØ¯Ø¨Ø§Ø±","Ø±ÙˆØ¯Ø³Ø±","ÙÙˆÙ…Ù†","ØµÙˆÙ…Ø¹Ù‡â€ŒØ³Ø±Ø§","Ø¢Ø³ØªØ§Ù†Ù‡ Ø§Ø´Ø±ÙÛŒÙ‡","Ø¢Ø³ØªØ§Ø±Ø§","Ù…Ø§Ø³Ø§Ù„","Ø³ÛŒØ§Ù‡Ú©Ù„","Ø§Ù…Ù„Ø´","Ø±Ø¶ÙˆØ§Ù†â€ŒØ´Ù‡Ø±","Ú©ÙˆÚ†ØµÙÙ‡Ø§Ù†","Ú©ÛŒØ§Ø´Ù‡Ø±","Ø´ÙØª","Ú†Ù…Ø®Ø§Ù„Ù‡","Ø±Ø­ÛŒÙ…â€ŒØ¢Ø¨Ø§Ø¯","Ù„ÙˆØ´Ø§Ù†","Ú©Ù„Ø§Ú†Ø§ÛŒ"],
    "Ù„Ø±Ø³ØªØ§Ù†": ["Ø®Ø±Ù…â€ŒØ¢Ø¨Ø§Ø¯","Ø¨Ø±ÙˆØ¬Ø±Ø¯","Ø¯ÙˆØ±ÙˆØ¯","Ú©ÙˆÙ‡Ø¯Ø´Øª","Ø§Ù„ÛŒÚ¯ÙˆØ¯Ø±Ø²","Ù†ÙˆØ±Ø¢Ø¨Ø§Ø¯","Ù¾Ù„Ø¯Ø®ØªØ±","Ø§Ø²Ù†Ø§","Ø§Ù„Ø´ØªØ±","Ú†Ú¯Ù†ÛŒ","Ù…Ø¹Ù…ÙˆÙ„Ø§Ù†","Ø³Ø±Ø§Ø¨ Ø¯ÙˆØ±Ù‡","Ø±ÙˆÙ…Ø´Ú¯Ø§Ù†","Ú©ÙˆÙ†Ø§Ù†ÛŒ","Ú†ØºØ§Ø¨Ù„"],
    "Ù…Ø§Ø²Ù†Ø¯Ø±Ø§Ù†": ["Ø³Ø§Ø±ÛŒ","Ø¨Ø§Ø¨Ù„","Ø¢Ù…Ù„","Ù‚Ø§Ø¦Ù…â€ŒØ´Ù‡Ø±","Ø¨Ø§Ø¨Ù„Ø³Ø±","Ø¨Ù‡Ø´Ù‡Ø±","ØªÙ†Ú©Ø§Ø¨Ø§Ø¯","Ù†ÙˆØ´Ù‡Ø±","Ú†Ø§Ù„ÙˆØ³","ÙØ±ÛŒØ¯ÙˆÙ†â€ŒÚ©Ù†Ø§Ø±","Ø±Ø§Ù…Ø³Ø±","Ù†ÙˆØ±","Ù…Ø­Ù…ÙˆØ¯Ø¢Ø¨Ø§Ø¯","Ù†Ú©Ø§","Ø¬ÙˆÛŒØ¨Ø§Ø±","Ø¹Ø¨Ø§Ø³â€ŒØ¢Ø¨Ø§Ø¯","Ø³ÙˆØ§Ø¯Ú©ÙˆÙ‡","Ú©Ù„Ø§Ø±Ø¯Ø´Øª"],
    "Ù…Ø±Ú©Ø²ÛŒ": ["Ø§Ø±Ø§Ú©","Ø³Ø§ÙˆÙ‡","Ø®Ù…ÛŒÙ†","Ù…Ø­Ù„Ø§Øª","Ø¯Ù„ÛŒØ¬Ø§Ù†","Ø²Ø±Ù†Ø¯ÛŒÙ‡","Ø´Ø§Ø²Ù†Ø¯","Ø¢Ø´ØªÛŒØ§Ù†","ÙØ±Ø§Ù‡Ø§Ù†","ØªÙØ±Ø´","Ø³Ø±Ø¨Ù†Ø¯","Ú©Ù…ÛŒØ¬Ø§Ù†","Ù…Ù‡Ø§Ø¬Ø±Ø§Ù†","Ù…Ø£Ù…ÙˆÙ†ÛŒÙ‡","Ù†ÙˆØ¨Ø±Ø§Ù†"],
    "Ù‡Ø±Ù…Ø²Ú¯Ø§Ù†": ["Ø¨Ù†Ø¯Ø±Ø¹Ø¨Ø§Ø³","Ù…ÛŒÙ†Ø§Ø¨","Ù‚Ø´Ù…","Ú©ÛŒØ´","Ø¨Ù†Ø¯Ø± Ù„Ù†Ú¯Ù‡","Ø±ÙˆØ¯Ø§Ù†","Ø¬Ø§Ø³Ú©","Ø¨Ø³ØªÚ©","Ø­Ø§Ø¬ÛŒâ€ŒØ¢Ø¨Ø§Ø¯","Ù¾Ø§Ø±Ø³ÛŒØ§Ù†","Ø³ÛŒØ±ÛŒÚ©","Ø¨Ø´Ø§Ú¯Ø±Ø¯","Ú©ÙˆÙ‡Ø³ØªÚ©","ØªÙ†Ú¯Ù‡","Ú†Ø§Ø±Ú©","Ø³Ù†Ø¯Ø±Ú©"],
    "Ù‡Ù…Ø¯Ø§Ù†": ["Ù‡Ù…Ø¯Ø§Ù†","Ù…Ù„Ø§ÛŒØ±","Ù†Ù‡Ø§ÙˆÙ†Ø¯","ØªÙˆÛŒØ³Ø±Ú©Ø§Ù†","Ø§Ø³Ø¯Ø¢Ø¨Ø§Ø¯","Ú©Ø¨ÙˆØ¯Ø±Ø§Ù‡Ù†Ú¯","Ø¨Ù‡Ø§Ø±","Ø±Ø²Ù†","ÙØ§Ù…Ù†ÛŒÙ†","Ù‚Ø±ÙˆÙ‡ Ø¯Ø±Ø¬Ø²ÛŒÙ†","Ø¯Ù…Ù‚","Ø¬ÙˆÚ©Ø§Ø±","Ø§Ø²Ù†Ø¯Ø±ÛŒØ§Ù†","Ø³Ø§Ù…Ù†","Ø¬ÙˆØ±Ù‚Ø§Ù†","Ù‚Ù‡Ø§ÙˆÙ†Ø¯"],
    "ÛŒØ²Ø¯": ["ÛŒØ²Ø¯","Ù…ÛŒØ¨Ø¯","Ø§Ø±Ø¯Ú©Ø§Ù†","ØªÙØª","Ø¨Ø§ÙÙ‚","Ø§Ø¨Ø±Ú©ÙˆÙ‡","Ù…Ù‡Ø±ÛŒØ²","Ø§Ø´Ú©Ø°Ø±","Ù‡Ø±Ø§Øª","Ø´Ø§Ù‡Ø¯ÛŒÙ‡","Ø­Ù…ÛŒØ¯ÛŒØ§","Ø²Ø§Ø±Ú†","Ù†ÛŒØ±","Ù…Ø±ÙˆØ³Øª","Ø¹Ù‚Ø¯Ø§","Ø¨Ù‡Ø§Ø¨Ø§Ø¯","Ø§Ø­Ù…Ø¯Ø¢Ø¨Ø§Ø¯","Ø³Ø§ÛŒØ¨Ø§Ù†","Ø®Ø¶Ø±Ø¢Ø¨Ø§Ø¯","Ù†Ø¯ÙˆØ´Ù†"]
};
const provinceSelect = document.getElementById('province-select');
const citySelect = document.getElementById('city-select');
const liveTimeElement = document.getElementById('live-time');
const currentData = document.getElementById('current-data');
const forecastDiv = document.getElementById('forecast');
const feedbackForm = document.getElementById('feedback-form');
const commentsList = document.getElementById('comments-list');
const currentCityTitle = document.getElementById('current-city-title');
function updateLiveTime() {
    const now = new Date();
    liveTimeElement.textContent = now.toLocaleDateString('fa-IR', {
        weekday: 'long',
        year: 'numeric',
        month: 'long',
        day: 'numeric',
        hour: '2-digit',
        minute: '2-digit',
        second: '2-digit'
    });
}
setInterval(updateLiveTime, 1000);
updateLiveTime();
function getPersianDate(timestamp) {
    const date = new Date(timestamp * 1000);
    return date.toLocaleDateString('fa-IR', {
        year: 'numeric',
        month: 'long',
        day: 'numeric'
    });
}
for (const province in provinces) {
    const option = document.createElement('option');
    option.value = province;
    option.textContent = province;
    provinceSelect.appendChild(option);
}
provinceSelect.addEventListener('change', () => {
    const selectedProvince = provinceSelect.value;
    citySelect.innerHTML = '<option value="">Ø´Ù‡Ø± Ø±Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯</option>';
    currentCityTitle.textContent = 'ÙˆØ¶Ø¹ÛŒØª ÙØ¹Ù„ÛŒ';
    currentData.innerHTML = '<p>Ù„Ø·ÙØ§Ù‹ ÛŒÚ© Ø´Ù‡Ø± Ø±Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯.</p>';
    forecastDiv.innerHTML = '';
    if (selectedProvince) {
        provinces[selectedProvince].forEach(city => {
            const option = document.createElement('option');
            option.value = city;
            option.textContent = city;
            citySelect.appendChild(option);
        });
    }
});
citySelect.addEventListener('change', () => {
    const selectedCity = citySelect.value;
    if (selectedCity) {
        currentCityTitle.innerHTML = `ÙˆØ¶Ø¹ÛŒØª ÙØ¹Ù„ÛŒ Ø¯Ø± <span class="current-city-name">${selectedCity}</span>`;
        fetchCoordinates(selectedCity);
    } else {
        currentCityTitle.textContent = 'ÙˆØ¶Ø¹ÛŒØª ÙØ¹Ù„ÛŒ';
        currentData.innerHTML = '<p>Ù„Ø·ÙØ§Ù‹ ÛŒÚ© Ø´Ù‡Ø± Ø±Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯.</p>';
        forecastDiv.innerHTML = '';
    }
});
async function fetchCoordinates(city) {
    currentData.innerHTML = '<p>Ø¯Ø± Ø­Ø§Ù„ ÛŒØ§ÙØªÙ† Ù…Ø®ØªØµØ§Øª Ø´Ù‡Ø±...</p>';
    forecastDiv.innerHTML = '<p>Ø¯Ø± Ø­Ø§Ù„ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ...</p>';
    const geoUrl = `https://api.openweathermap.org/geo/1.0/direct?q=${city},IR&limit=1&appid=${API_KEY}`;
    try {
        const response = await fetch(geoUrl);
        if (!response.ok) {
            throw new Error(`HTTP error! status: ${response.status}`);
        }
        const data = await response.json();
        if (data.length > 0) {
            const { lat, lon } = data[0];
            fetchWeather(lat, lon, city);
        } else {
            currentData.innerHTML = `<p>Ù…Ø®ØªØµØ§Øª Ø¨Ø±Ø§ÛŒ Ø´Ù‡Ø± "${city}" ÛŒØ§ÙØª Ù†Ø´Ø¯. Ù„Ø·ÙØ§Ù‹ Ø´Ù‡Ø± Ø¯ÛŒÚ¯Ø±ÛŒ Ø±Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯.</p>`;
            forecastDiv.innerHTML = '';
        }
    } catch (error) {
        currentData.innerHTML = `<p>Ø®Ø·Ø§ Ø¯Ø± Ø¯Ø±ÛŒØ§ÙØª Ù…Ø®ØªØµØ§Øª. Ù„Ø·ÙØ§Ù‹ Ø¨Ø¹Ø¯Ø§Ù‹ Ø¯ÙˆØ¨Ø§Ø±Ù‡ ØªÙ„Ø§Ø´ Ú©Ù†ÛŒØ¯.</p>`;
        forecastDiv.innerHTML = '';
        console.error('Error fetching coordinates:', error);
    }
}
function displayCurrentWeather(data, cityName) {
    if (data.cod !== 200) {
        currentData.innerHTML = `<p>Ø®Ø·Ø§ Ø¯Ø± Ø¯Ø±ÛŒØ§ÙØª Ø¯Ø§Ø¯Ù‡ Ø¨Ø±Ø§ÛŒ Ø´Ù‡Ø±: ${cityName || 'Ù†Ø§Ù…Ø´Ø®Øµ'}</p>`;
        return;
    }
    const now = new Date().getTime() / 1000;
    const isDay = now > data.sys.sunrise && now < data.sys.sunset;
    const iconCode = data.weather[0].icon;
    const iconToShow = isDay ? iconCode.replace('n', 'd') : iconCode.replace('d', 'n');
    const iconUrl = `https://openweathermap.org/img/wn/${iconToShow}@2x.png`;
    const persianDate = getPersianDate(data.dt);
    currentData.innerHTML = `
        <div class="weather-icon">
            <img src="${iconUrl}" alt="${data.weather[0].description}">
        </div>
        <p><strong>ØªØ§Ø±ÛŒØ®:</strong> ${persianDate}</p>
        <p><strong><span class="temp-color">Ø¯Ù…Ø§:</span></strong> ${Math.round(data.main.temp)}Â°C</p>
        <p><strong>ÙˆØ¶Ø¹ÛŒØª:</strong> ${data.weather[0].description}</p>
        <p><strong><span class="temp-color">Ø­Ø¯Ø§Ù‚Ù„ Ø¯Ù…Ø§:</span></strong> ${Math.round(data.main.temp_min)}Â°C</p>
        <p><strong><span class="temp-color">Ø­Ø¯Ø§Ú©Ø«Ø± Ø¯Ù…Ø§:</span></strong> ${Math.round(data.main.temp_max)}Â°C</p>
        <p><strong><span class="humidity-color"><i class="fas fa-tint"></i> Ø±Ø·ÙˆØ¨Øª:</span></strong> ${data.main.humidity}%</p>
        <p><strong><span class="wind-color"><i class="fas fa-wind"></i> Ø³Ø±Ø¹Øª Ø¨Ø§Ø¯:</span></strong> ${Math.round(data.wind.speed * 3.6)} Ú©ÛŒÙ„ÙˆÙ…ØªØ± Ø¨Ø± Ø³Ø§Ø¹Øª</p>
    `;
}
function displayForecast(data) {
    forecastDiv.innerHTML = '';
    const dailyForecasts = data.list.filter(item => item.dt_txt.includes('12:00:00'));
    dailyForecasts.forEach(forecast => {
        const iconUrl = `https://openweathermap.org/img/wn/${forecast.weather[0].icon}@2x.png`;
        const date = new Date(forecast.dt * 1000).toLocaleDateString('fa-IR', { weekday: 'long' });
        const persianDate = getPersianDate(forecast.dt);
        const pop = Math.round(forecast.pop * 100);
        const humidity = forecast.main.humidity;
        const windSpeed = Math.round(forecast.wind.speed * 3.6);
        const card = document.createElement('div');
        card.classList.add('forecast-card');
        card.innerHTML = `
            <h4>${date}</h4>
            <p>${persianDate}</p>
            <div class="weather-icon">
                <img src="${iconUrl}" alt="${forecast.weather[0].description}">
            </div>
            <p><strong><span class="temp-color">Ø¯Ù…Ø§:</span></strong> ${Math.round(forecast.main.temp)}Â°C</p>
            <p><strong>ÙˆØ¶Ø¹ÛŒØª:</strong> ${forecast.weather[0].description}</p>
            <p><strong><span class="humidity-color"><i class="fas fa-tint"></i> Ø±Ø·ÙˆØ¨Øª:</span></strong> ${humidity}%</p>
            <p><strong><span class="wind-color"><i class="fas fa-wind"></i> Ø³Ø±Ø¹Øª Ø¨Ø§Ø¯:</span></strong> ${windSpeed} km/h</p>
            <p><strong><span class="pop-color"><i class="fas fa-cloud-showers-heavy"></i> Ø§Ø­ØªÙ…Ø§Ù„ Ø¨Ø§Ø±Ø´:</span></strong> ${pop}%</p>
        `;
        forecastDiv.appendChild(card);
    });
}
async function fetchWeather(lat, lon, city) {
    currentData.innerHTML = '<p>Ø¯Ø± Ø­Ø§Ù„ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ Ù‡ÙˆØ§Ø´Ù†Ø§Ø³ÛŒ...</p>';
    forecastDiv.innerHTML = '<p>Ø¯Ø± Ø­Ø§Ù„ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ...</p>';
    const currentUrl = `https://api.openweathermap.org/data/2.5/weather?lat=${lat}&lon=${lon}&appid=${API_KEY}&units=metric&lang=fa`;
    const forecastUrl = `https://api.openweathermap.org/data/2.5/forecast?lat=${lat}&lon=${lon}&appid=${API_KEY}&units=metric&lang=fa`;
    try {
        const [currentResponse, forecastResponse] = await Promise.all([
            fetch(currentUrl),
            fetch(forecastUrl)
        ]);
        if (!currentResponse.ok || !forecastResponse.ok) {
            throw new Error(`HTTP error! status: ${currentResponse.status} / ${forecastResponse.status}`);
        }
        const currentDataResponse = await currentResponse.json();
        const forecastDataResponse = await forecastResponse.json();
        displayCurrentWeather(currentDataResponse, city);
        displayForecast(forecastDataResponse);
    } catch (error) {
        currentData.innerHTML = `<p>Ø®Ø·Ø§ Ø¯Ø± Ø¯Ø±ÛŒØ§ÙØª Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ Ù‡ÙˆØ§Ø´Ù†Ø§Ø³ÛŒ. Ù„Ø·ÙØ§Ù‹ Ø¨Ø¹Ø¯Ø§Ù‹ Ø¯ÙˆØ¨Ø§Ø±Ù‡ ØªÙ„Ø§Ø´ Ú©Ù†ÛŒØ¯.</p>`;
        forecastDiv.innerHTML = '';
        console.error('Error fetching weather data:', error);
    }
}
function loadComments() {
    const comments = JSON.parse(localStorage.getItem('weather_comments')) || [];
    commentsList.innerHTML = '';
    comments.forEach(comment => {
        const li = document.createElement('li');
        li.innerHTML = `
            <strong>${comment.name}</strong>
            <p>${comment.comment}</p>
            <small>${comment.date}</small>
        `;
        commentsList.appendChild(li);
    });
}
feedbackForm.addEventListener('submit', (e) => {
    e.preventDefault();
    const name = document.getElementById('feedback-name').value;
    const comment = document.getElementById('feedback-comment').value;
    const date = new Date().toLocaleDateString('fa-IR', {
        year: 'numeric', month: 'long', day: 'numeric',
        hour: '2-digit', minute: '2-digit'
    });
    const newComment = { name, comment, date };
    const comments = JSON.parse(localStorage.getItem('weather_comments')) || [];
    comments.push(newComment);
    localStorage.setItem('weather_comments', JSON.stringify(comments));
    feedbackForm.reset();
    loadComments();
});
document.addEventListener('DOMContentLoaded', loadComments);
</script>
</body>
</html>
